{"remainingRequest":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myShop\\cmall-vue\\src\\views\\Service.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\myShop\\cmall-vue\\src\\views\\Service.vue","mtime":1714638394836},{"path":"D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714004799971},{"path":"D:\\myShop\\cmall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1714004800982},{"path":"D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714004799971},{"path":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1714004801336}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNoYXRJbnB1dDogJycsDQogICAgICBtZXNzYWdlczogW10sDQogICAgICB1c2VySWNvbjogJy9zdGF0aWMvaW1hZ2VzL3VzZXIve3sgY3VycmVudF91c2VyLmF2YXRhciB9fScsIC8vIEFkanVzdCBhcyBuZWVkZWQgZm9yIGR5bmFtaWMgcGF0aHMNCiAgICAgIGJvdEljb246ICcvc3RhdGljL2ltYWdlcy9haWNoYXQvY2hhdGdwdC5wbmcnLA0KICAgICAgaXNTZW5kaW5nOiBmYWxzZQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhZGRVc2VyTWVzc2FnZShtZXNzYWdlKSB7DQogICAgICB0aGlzLm1lc3NhZ2VzLnB1c2goeyB0ZXh0OiBtZXNzYWdlLCBpY29uOiB0aGlzLnVzZXJJY29uLCBzZW5kZXI6ICd1c2VyJyB9KTsNCiAgICAgIHRoaXMuY2hhdElucHV0ID0gJyc7DQogICAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7DQogICAgfSwNCiAgICBhZGRCb3RNZXNzYWdlKG1lc3NhZ2UpIHsNCiAgICAgIHRoaXMubWVzc2FnZXMucHVzaCh7IHRleHQ6IG1lc3NhZ2UsIGljb246IHRoaXMuYm90SWNvbiwgc2VuZGVyOiAnYm90JyB9KTsNCiAgICAgIHRoaXMuY2hhdElucHV0ID0gJyc7DQogICAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7DQogICAgfSwNCiAgICBzY3JvbGxUb0JvdHRvbSgpIHsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgY29uc3QgY2hhdFdpbmRvdyA9IHRoaXMuJHJlZnMuY2hhdFdpbmRvdzsNCiAgICAgICAgY2hhdFdpbmRvdy5zY3JvbGxUb3AgPSBjaGF0V2luZG93LnNjcm9sbEhlaWdodDsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgc2VuZE1lc3NhZ2UoKSB7DQogICAgICBpZiAoIXRoaXMuY2hhdElucHV0LnRyaW0oKSkgew0KICAgICAgICBhbGVydCgi6K+36L6T5YWl5YaF5a6577yBIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmNoYXRJbnB1dDsNCiAgICAgIHRoaXMuYWRkVXNlck1lc3NhZ2UobWVzc2FnZSk7DQogICAgICB0aGlzLmlzU2VuZGluZyA9IHRydWU7DQoNCiAgICAgIGF4aW9zLnBvc3QoJy9jaGF0JywgeyBwcm9tcHQ6IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpIH0pDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICB0aGlzLmFkZEJvdE1lc3NhZ2UocmVzcG9uc2UuZGF0YS5jb250ZW50KTsNCiAgICAgICAgICB0aGlzLmlzU2VuZGluZyA9IGZhbHNlOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgIHRoaXMuYWRkQm90TWVzc2FnZSgnPHNwYW4gc3R5bGU9ImNvbG9yOnJlZDsiPuWHuumUmeWVpu+8geivt+eojeWQjuWGjeivlSE8L3NwYW4+Jyk7DQogICAgICAgICAgdGhpcy5pc1NlbmRpbmcgPSBmYWxzZTsNCiAgICAgICAgfSk7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Service.vue"],"names":[],"mappings":";AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Service.vue","sourceRoot":"src/views","sourcesContent":["<!--\r\n * @Descripttion: 关于页面组件\r\n * @Author: congz\r\n * @Date: 2020-07-11 19:29:46\r\n * @LastEditors: congz\r\n * @LastEditTime: 2020-08-04 11:20:44\r\n--> \r\n\r\n\r\n<template>\r\n    <div>\r\n        <div class=\"row\">\r\n            <div class=\"col-xs-12\">\r\n              <div>\r\n                <h1 class=\"text-center m-b-lg\">Chat with ChatGPT</h1>\r\n              </div>\r\n            <div class=\"answer\">\r\n              <div id=\"chatWindow\" class=\"mb-3\"></div>\r\n                <div class=\"input-group ipt\">\r\n                  <div class=\"col-xs-12\">\r\n                    <textarea id=\"chatInput\" class=\"form-control\" rows=\"1\"></textarea>\r\n                  </div>\r\n                  <button id=\"chatBtn\" class=\"btn btn-primary\" type=\"button\">Go !</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n    </div>  \r\n</template>\r\n  \r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      chatInput: '',\r\n      messages: [],\r\n      userIcon: '/static/images/user/{{ current_user.avatar }}', // Adjust as needed for dynamic paths\r\n      botIcon: '/static/images/aichat/chatgpt.png',\r\n      isSending: false\r\n    };\r\n  },\r\n  methods: {\r\n    addUserMessage(message) {\r\n      this.messages.push({ text: message, icon: this.userIcon, sender: 'user' });\r\n      this.chatInput = '';\r\n      this.scrollToBottom();\r\n    },\r\n    addBotMessage(message) {\r\n      this.messages.push({ text: message, icon: this.botIcon, sender: 'bot' });\r\n      this.chatInput = '';\r\n      this.scrollToBottom();\r\n    },\r\n    scrollToBottom() {\r\n      this.$nextTick(() => {\r\n        const chatWindow = this.$refs.chatWindow;\r\n        chatWindow.scrollTop = chatWindow.scrollHeight;\r\n      });\r\n    },\r\n    sendMessage() {\r\n      if (!this.chatInput.trim()) {\r\n        alert(\"请输入内容！\");\r\n        return;\r\n      }\r\n      const message = this.chatInput;\r\n      this.addUserMessage(message);\r\n      this.isSending = true;\r\n\r\n      axios.post('/chat', { prompt: JSON.stringify(message) })\r\n        .then(response => {\r\n          this.addBotMessage(response.data.content);\r\n          this.isSending = false;\r\n        })\r\n        .catch(error => {\r\n          this.addBotMessage('<span style=\"color:red;\">出错啦！请稍后再试!</span>');\r\n          this.isSending = false;\r\n        });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n .answer{\r\n   width: 100%;\r\n   position: relative;\r\n   height: 70vh;\r\n }\r\n\r\n .ipt{\r\n   display:flex;\r\n   align-items: center;\r\n   position: absolute;\r\n   bottom: 60px;\r\n   margin: 0 15px;\r\n   padding-right: 15px;\r\n   border-radius: 15px;\r\n   width: calc(100% - 30px);\r\n   height: 50px;\r\n   border: 1px solid #e7eaec;\r\n }\r\n .ipt textarea {\r\n   resize: none;\r\n   overflow-y: auto;\r\n   border: none;\r\n   box-shadow: none;\r\n }\r\n .ipt textarea:focus{\r\n     border: none !important;\r\n     box-shadow: none !important;\r\n }\r\n\r\n #chatWindow {\r\n   max-height: calc(70vh - 120px);\r\n   height:auto;\r\n   overflow-y: auto;\r\n }\r\n\r\n .message-bubble {\r\n     padding: 10px;\r\n     margin: 5px;\r\n     display: flex;\r\n     align-items: flex-start;\r\n     border-bottom: 1px dashed #e7eaec;\r\n }\r\n\r\n\r\n .message-bubble p {\r\n     font-size: 18px;\r\n     margin-left:15px;\r\n }\r\n\r\n .chat-icon {\r\n     width: 30px;\r\n     height: 30px;\r\n     border-radius: 3px;\r\n }\r\n</style>\r\n "]}]}