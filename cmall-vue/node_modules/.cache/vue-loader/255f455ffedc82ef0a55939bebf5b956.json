{"remainingRequest":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myShop\\cmall-vue\\src\\views\\Service.vue?vue&type=style&index=0&id=1b0ebaeb&lang=css","dependencies":[{"path":"D:\\myShop\\cmall-vue\\src\\views\\Service.vue","mtime":1714638670031},{"path":"D:\\myShop\\cmall-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1714004800405},{"path":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1714004801776},{"path":"D:\\myShop\\cmall-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1714004800978},{"path":"D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714004799971},{"path":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1714004801336}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpAaW1wb3J0ICd+Ym9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5taW4uY3NzJzsNCiAuYW5zd2Vyew0KICAgd2lkdGg6IDEwMCU7DQogICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICBoZWlnaHQ6IDcwdmg7DQogfQ0KDQogLmlwdHsNCiAgIGRpc3BsYXk6ZmxleDsNCiAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICBib3R0b206IDYwcHg7DQogICBtYXJnaW46IDAgMTVweDsNCiAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7DQogICBib3JkZXItcmFkaXVzOiAxNXB4Ow0KICAgd2lkdGg6IGNhbGMoMTAwJSAtIDMwcHgpOw0KICAgaGVpZ2h0OiA1MHB4Ow0KICAgYm9yZGVyOiAxcHggc29saWQgI2U3ZWFlYzsNCiB9DQogLmlwdCB0ZXh0YXJlYSB7DQogICByZXNpemU6IG5vbmU7DQogICBvdmVyZmxvdy15OiBhdXRvOw0KICAgYm9yZGVyOiBub25lOw0KICAgYm94LXNoYWRvdzogbm9uZTsNCiB9DQogLmlwdCB0ZXh0YXJlYTpmb2N1c3sNCiAgICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7DQogICAgIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDsNCiB9DQoNCiAjY2hhdFdpbmRvdyB7DQogICBtYXgtaGVpZ2h0OiBjYWxjKDcwdmggLSAxMjBweCk7DQogICBoZWlnaHQ6YXV0bzsNCiAgIG92ZXJmbG93LXk6IGF1dG87DQogfQ0KDQogLm1lc3NhZ2UtYnViYmxlIHsNCiAgICAgcGFkZGluZzogMTBweDsNCiAgICAgbWFyZ2luOiA1cHg7DQogICAgIGRpc3BsYXk6IGZsZXg7DQogICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0Ow0KICAgICBib3JkZXItYm90dG9tOiAxcHggZGFzaGVkICNlN2VhZWM7DQogfQ0KDQoNCiAubWVzc2FnZS1idWJibGUgcCB7DQogICAgIGZvbnQtc2l6ZTogMThweDsNCiAgICAgbWFyZ2luLWxlZnQ6MTVweDsNCiB9DQoNCiAuY2hhdC1pY29uIHsNCiAgICAgd2lkdGg6IDMwcHg7DQogICAgIGhlaWdodDogMzBweDsNCiAgICAgYm9yZGVyLXJhZGl1czogM3B4Ow0KIH0NCg=="},{"version":3,"sources":["Service.vue"],"names":[],"mappings":";AAmFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Service.vue","sourceRoot":"src/views","sourcesContent":["<!--\r\n * @Descripttion: 关于页面组件\r\n * @Author: congz\r\n * @Date: 2020-07-11 19:29:46\r\n * @LastEditors: congz\r\n * @LastEditTime: 2020-08-04 11:20:44\r\n--> \r\n\r\n\r\n<template>\r\n    <div>\r\n        <div class=\"row\">\r\n            <div class=\"col-xs-12\">\r\n              <div>\r\n                <h1 class=\"text-center m-b-lg\">官方客服，有什么需要直接说</h1>\r\n              </div>\r\n            <div class=\"answer\">\r\n              <div id=\"chatWindow\" class=\"mb-3\"></div>\r\n                <div class=\"input-group ipt\">\r\n                  <div class=\"col-xs-12\">\r\n                    <textarea id=\"chatInput\" class=\"form-control\" rows=\"1\"></textarea>\r\n                  </div>\r\n                  <button id=\"chatBtn\" class=\"btn btn-primary\" type=\"button\">Go !</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n        </div>\r\n    </div>  \r\n</template>\r\n  \r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  data() {\r\n    return {\r\n      chatInput: '',\r\n      messages: [],\r\n      userIcon: '/static/images/user/{{ current_user.avatar }}', // Adjust as needed for dynamic paths\r\n      botIcon: '/static/images/aichat/chatgpt.png',\r\n      isSending: false\r\n    };\r\n  },\r\n  methods: {\r\n    addUserMessage(message) {\r\n      this.messages.push({ text: message, icon: this.userIcon, sender: 'user' });\r\n      this.chatInput = '';\r\n      this.scrollToBottom();\r\n    },\r\n    addBotMessage(message) {\r\n      this.messages.push({ text: message, icon: this.botIcon, sender: 'bot' });\r\n      this.chatInput = '';\r\n      this.scrollToBottom();\r\n    },\r\n    scrollToBottom() {\r\n      this.$nextTick(() => {\r\n        const chatWindow = this.$refs.chatWindow;\r\n        chatWindow.scrollTop = chatWindow.scrollHeight;\r\n      });\r\n    },\r\n    sendMessage() {\r\n      if (!this.chatInput.trim()) {\r\n        alert(\"请输入内容！\");\r\n        return;\r\n      }\r\n      const message = this.chatInput;\r\n      this.addUserMessage(message);\r\n      this.isSending = true;\r\n\r\n      axios.post('/chat', { prompt: JSON.stringify(message) })\r\n        .then(response => {\r\n          this.addBotMessage(response.data.content);\r\n          this.isSending = false;\r\n        })\r\n        .catch(error => {\r\n          this.addBotMessage('<span style=\"color:red;\">出错啦！请稍后再试!</span>');\r\n          this.isSending = false;\r\n        });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n@import '~bootstrap/dist/css/bootstrap.min.css';\r\n .answer{\r\n   width: 100%;\r\n   position: relative;\r\n   height: 70vh;\r\n }\r\n\r\n .ipt{\r\n   display:flex;\r\n   align-items: center;\r\n   position: absolute;\r\n   bottom: 60px;\r\n   margin: 0 15px;\r\n   padding-right: 15px;\r\n   border-radius: 15px;\r\n   width: calc(100% - 30px);\r\n   height: 50px;\r\n   border: 1px solid #e7eaec;\r\n }\r\n .ipt textarea {\r\n   resize: none;\r\n   overflow-y: auto;\r\n   border: none;\r\n   box-shadow: none;\r\n }\r\n .ipt textarea:focus{\r\n     border: none !important;\r\n     box-shadow: none !important;\r\n }\r\n\r\n #chatWindow {\r\n   max-height: calc(70vh - 120px);\r\n   height:auto;\r\n   overflow-y: auto;\r\n }\r\n\r\n .message-bubble {\r\n     padding: 10px;\r\n     margin: 5px;\r\n     display: flex;\r\n     align-items: flex-start;\r\n     border-bottom: 1px dashed #e7eaec;\r\n }\r\n\r\n\r\n .message-bubble p {\r\n     font-size: 18px;\r\n     margin-left:15px;\r\n }\r\n\r\n .chat-icon {\r\n     width: 30px;\r\n     height: 30px;\r\n     border-radius: 3px;\r\n }\r\n</style>\r\n "]}]}