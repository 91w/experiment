{"remainingRequest":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myShop\\cmall-vue\\src\\views\\UserAddress.vue?vue&type=style&index=0&id=2ebc98df&scoped=true&lang=css","dependencies":[{"path":"D:\\myShop\\cmall-vue\\src\\views\\UserAddress.vue","mtime":1713966379508},{"path":"D:\\myShop\\cmall-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1714004800405},{"path":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1714004801776},{"path":"D:\\myShop\\cmall-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1714004800978},{"path":"D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714004799971},{"path":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1714004801336}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouYWRkcmVzcy1sYXlvdXQgew0KICBtYXgtd2lkdGg6IDEyMjVweDsNCiAgbWFyZ2luOiAwIGF1dG87DQp9DQouYWRkcmVzcy1jb250ZW50IHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsNCiAgbWFyZ2luLWJvdHRvbTogMzBweDsNCn0NCi5hZGRyZXNzLXRpdGxlIHsNCiAgaGVpZ2h0OiAxMDBweDsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCi5hZGRyZXNzLXRpdGxlIHAgew0KICBmb250LXNpemU6IDMwcHg7DQogIGNvbG9yOiAjNzU3NTc1Ow0KICBtYXJnaW4tbGVmdDogNTBweDsNCn0NCi5leHRyYSB7DQogIGhlaWdodDogMTBweDsNCn0NCi8q5pS26LSn5Zyw5Z2A5YiX6KGoKi8NCi5hZGRyZXNzIC5hZGRyZXNzLWxheW91dCAuYWRkcmVzcy1jb250ZW50IC5hZGRyZXNzLWJvZHkgew0KICBvdmVyZmxvdzogaGlkZGVuOw0KICB3aWR0aDogOTEwcHg7DQogIG1hcmdpbjogMCBhdXRvOw0KfQ0KLmFkZHJlc3MgLmFkZHJlc3MtbGF5b3V0IC5hZGRyZXNzLWNvbnRlbnQgLmFkZHJlc3MtYm9keSB1bCBsaSB7DQogIGZsb2F0OiBsZWZ0Ow0KICBjb2xvcjogIzMzMzsNCiAgd2lkdGg6IDIyMHB4Ow0KICBoZWlnaHQ6IDE3OHB4Ow0KICBib3JkZXI6IDFweCBzb2xpZCAjZTBlMGUwOw0KICBwYWRkaW5nOiAxNXB4IDI0cHggMDsNCiAgbWFyZ2luLXJpZ2h0OiAxN3B4Ow0KICBtYXJnaW4tYm90dG9tOiAyNHB4Ow0KfQ0KLmFkZHJlc3MgLmFkZHJlc3MtbGF5b3V0IC5hZGRyZXNzLWNvbnRlbnQgLmFkZHJlc3MtYm9keSAuaW4tc2VjdGlvbiB7DQogIGJvcmRlcjogMXB4IHNvbGlkICNmZjY3MDA7DQp9DQouYWRkcmVzcyAuYWRkcmVzcy1sYXlvdXQgLmFkZHJlc3MtY29udGVudCAuYWRkcmVzcy1ib2R5IGxpIGgyIHsNCiAgZm9udC1zaXplOiAxOHB4Ow0KICBmb250LXdlaWdodDogbm9ybWFsOw0KICBsaW5lLWhlaWdodDogMzBweDsNCiAgbWFyZ2luLWJvdHRvbTogMTBweDsNCn0NCi5hZGRyZXNzIC5hZGRyZXNzLWxheW91dCAuYWRkcmVzcy1jb250ZW50IC5hZGRyZXNzLWJvZHkgbGkgcCB7DQogIGZvbnQtc2l6ZTogMTRweDsNCiAgY29sb3I6ICM3NTc1NzU7DQp9DQouYWRkcmVzcyAuYWRkcmVzcy1sYXlvdXQgLmFkZHJlc3MtY29udGVudCAuYWRkcmVzcy1ib2R5IGxpIC5hZGRyZXNzIHsNCiAgcGFkZGluZzogMTBweCAwOw0KICBtYXgtd2lkdGg6IDE4MHB4Ow0KICBoZWlnaHQ6IDcwcHg7DQogIGxpbmUtaGVpZ2h0OiAyMnB4Ow0KICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KDQouYWRkcmVzcyAuYWRkcmVzcy1sYXlvdXQgLmFkZHJlc3MtY29udGVudCAuYWRkcmVzcy1ib2R5IGxpIC5vcGVyYXRlIHsNCiAgY29sb3I6ICNmZjY3MDA7DQogIGZvbnQtc2l6ZTogMTRweDsNCiAgZmxvYXQ6IHJpZ2h0Ow0KfQ0KDQouYWRkcmVzcyAuYWRkcmVzcy1sYXlvdXQgLmFkZHJlc3MtY29udGVudCAuYWRkcmVzcy1ib2R5IGxpIC5vcGVyYXRlIHNwYW4gew0KICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQp9DQouYWRkcmVzcyAuYWRkcmVzcy1sYXlvdXQgLmFkZHJlc3MtY29udGVudCAuYWRkcmVzcy1ib2R5IC5hZGQtYWRkcmVzcyB7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgbGluZS1oZWlnaHQ6IDMwcHg7DQp9DQouYWRkcmVzcyAuYWRkcmVzcy1sYXlvdXQgLmFkZHJlc3MtY29udGVudCAuYWRkcmVzcy1ib2R5IC5hZGQtYWRkcmVzcyBpIHsNCiAgZm9udC1zaXplOiAzMHB4Ow0KICBwYWRkaW5nLXRvcDogNTBweDsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KLyrmlLbotKflnLDlnYDliJfooahFTkQqLw0KLmFkZHJlc3MgLmFkZHJlc3MtbGF5b3V0IC5kZWxldGUtZGlhbG9nIHsNCiAgbWFyZ2luOiAwIGF1dG87DQogIHdpZHRoOiAxODBweDsNCiAgZm9udC1zaXplOiAyMHB4Ow0KfQ0K"},{"version":3,"sources":["UserAddress.vue"],"names":[],"mappings":";AAsOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserAddress.vue","sourceRoot":"src/views","sourcesContent":["<!--\r\n * @Descripttion: 收货地址页面组件\r\n * @Author: congz\r\n * @Date: 2020-07-11 15:12:07\r\n * @LastEditors: congz\r\n * @LastEditTime: 2020-08-05 15:40:11\r\n--> \r\n\r\n<template>\r\n  <div class=\"address\" id=\"address\" name=\"address\">\r\n    <div class=\"address-layout\">\r\n      <el-row :gutter=\"10\">\r\n        <div>\r\n          <CenterMenu></CenterMenu>\r\n        </div>\r\n        <el-col :span=\"20\">\r\n          <div class=\"address-content\">\r\n            <div class=\"extra\"></div>\r\n            <div class=\"address-title\">\r\n              <p>收货地址</p>\r\n            </div>\r\n            <div class=\"address-body\">\r\n              <ul>\r\n                <router-link to>\r\n                  <li class=\"add-address\" @click=\"addVisible=true\">\r\n                    <i class=\"el-icon-circle-plus-outline\"></i>\r\n                    <p>添加新地址</p>\r\n                  </li>\r\n                </router-link>\r\n                <router-link to>\r\n                  <li\r\n                    :class=\"item.id == confirmAddress ? 'in-section' : ''\"\r\n                    v-for=\"(item,index) in address\"\r\n                    :key=\"item.id\"\r\n                    @mouseenter=\"mouseEnter(item)\"\r\n                    @mouseleave=\"mouseLeave(item)\"\r\n                  >\r\n                    <h2>{{item.name}}</h2>\r\n                    <p class=\"phone\">{{item.phone}}</p>\r\n                    <p class=\"address\">{{item.address}}</p>\r\n                    <div class=\"operate\" v-show=\"item.seen\">\r\n                      <span @click=\"edit(item)\">修改</span>\r\n                      <span @click=\"deleteDialog(item.id,index)\">删除</span>\r\n                    </div>\r\n                  </li>\r\n                </router-link>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <!-- 新建收货地址弹出框 -->\r\n          <el-dialog title=\"新建收货地址\" :visible.sync=\"addVisible\" width=\"30%\">\r\n            <el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\r\n              <el-form-item label=\"姓名\">\r\n                <el-input v-model=\"form.name\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"手机号\">\r\n                <el-input v-model=\"form.phone\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"详细地址\">\r\n                <el-input type=\"textarea\" rows=\"5\" v-model=\"form.address\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button type=\"primary\" @click=\"postEdit\">确 定</el-button>\r\n              <el-button @click=\"addVisible = false\">取 消</el-button>\r\n            </span>\r\n          </el-dialog>\r\n          <!-- 新建收货地址弹出框END -->\r\n          <!-- 修改收货地址弹出框 -->\r\n          <el-dialog title=\"修改收货地址\" :visible.sync=\"editVisible\" width=\"30%\">\r\n            <el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\r\n              <el-form-item label=\"姓名\">\r\n                <el-input v-model=\"form.name\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"手机号\">\r\n                <el-input v-model=\"form.phone\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"详细地址\">\r\n                <el-input type=\"textarea\" rows=\"5\" v-model=\"form.address\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n              <el-button @click=\"editVisible = false\">取 消</el-button>\r\n            </span>\r\n          </el-dialog>\r\n          <!-- 修改收货地址弹出框END -->\r\n          <!-- 删除收货地址弹出框 -->\r\n          <el-dialog title=\"提示\" :visible.sync=\"deleteVisible\" width=\"30%\" center>\r\n            <div class=\"delete-dialog\">\r\n              <span>确认删除该地址吗？</span>\r\n            </div>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button type=\"primary\" @click=\"deleteAddress\">确 定</el-button>\r\n              <el-button @click=\"deleteVisible = false\">取 消</el-button>\r\n            </span>\r\n          </el-dialog>\r\n          <!-- 删除收货地址弹出框END -->\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CenterMenu from '../components/CenterMenu'\r\nimport * as addressesAPI from '@/api/addresses'\r\nexport default {\r\n  name: 'Details',\r\n  data() {\r\n    return {\r\n      address: [],\r\n      addVisible: false,\r\n      editVisible: false,\r\n      deleteVisible: false,\r\n      confirmAddress: 0, // 选择的地址id\r\n      addressID: 0,\r\n      addressIndex: 0,\r\n      form: {\r\n        id: '',\r\n        user_id: '',\r\n        name: '',\r\n        phone: '',\r\n        address: ''\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getAddress()\r\n  },\r\n  methods: {\r\n    getAddress() {\r\n      addressesAPI\r\n        .showAddresses(this.$store.getters.getUser.id)\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            this.address = res.data\r\n          } else if (res.status === 20001) {\r\n            //token过期，需要重新登录\r\n            this.loginExpired(res.msg)\r\n          } else {\r\n            this.notifyError('获取收货地址失败', res.msg)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.notifyError('获取收货地址失败', err)\r\n        })\r\n    },\r\n    mouseEnter(item) {\r\n      item.seen = true\r\n      this.confirmAddress = item.id\r\n    },\r\n    mouseLeave(item) {\r\n      item.seen = false\r\n      this.confirmAddress = 0\r\n    },\r\n    edit(item) {\r\n      this.form = item\r\n      this.editVisible = true\r\n    },\r\n    deleteDialog(val, index) {\r\n      this.addressID = val\r\n      this.addressIndex = index\r\n      this.deleteVisible = true\r\n    },\r\n    postEdit() {\r\n      this.form.user_id = this.$store.getters.getUser.id\r\n      addressesAPI\r\n        .postAddress(this.form)\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            this.address = res.data\r\n            this.addVisible = false\r\n            this.notifySucceed('新建收货地址成功')\r\n          } else if (res.status === 20001) {\r\n            //token过期，需要重新登录\r\n            this.loginExpired(res.msg)\r\n          } else {\r\n            this.notifyError('新建收货地址失败', res.msg)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.notifyError('新建收货地址失败', err)\r\n        })\r\n    },\r\n    saveEdit() {\r\n      this.form.user_id = this.$store.getters.getUser.id\r\n      addressesAPI\r\n        .updateAddress(this.form)\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            this.address = res.data\r\n            this.editVisible = false\r\n            this.notifySucceed('修改收货地址成功')\r\n          } else if (res.status === 20001) {\r\n            //token过期，需要重新登录\r\n            this.loginExpired(res.msg)\r\n          } else {\r\n            this.notifyError('修改收货地址失败', res.msg)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.notifyError('修改收货地址失败', err)\r\n        })\r\n    },\r\n    deleteAddress() {\r\n      addressesAPI\r\n        .deleteAddress(this.addressID)\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            this.address.splice(this.addressIndex, 1)\r\n            this.deleteVisible = false\r\n            this.notifySucceed('删除收货地址成功')\r\n          } else if (res.status === 20001) {\r\n            //token过期，需要重新登录\r\n            this.loginExpired(res.msg)\r\n          } else {\r\n            this.notifyError('删除收货地址失败', res.msg)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.notifyError('删除收货地址失败', err)\r\n        })\r\n    }\r\n  },\r\n  components: {\r\n    CenterMenu\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.address-layout {\r\n  max-width: 1225px;\r\n  margin: 0 auto;\r\n}\r\n.address-content {\r\n  background-color: #ffffff;\r\n  margin-bottom: 30px;\r\n}\r\n.address-title {\r\n  height: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.address-title p {\r\n  font-size: 30px;\r\n  color: #757575;\r\n  margin-left: 50px;\r\n}\r\n.extra {\r\n  height: 10px;\r\n}\r\n/*收货地址列表*/\r\n.address .address-layout .address-content .address-body {\r\n  overflow: hidden;\r\n  width: 910px;\r\n  margin: 0 auto;\r\n}\r\n.address .address-layout .address-content .address-body ul li {\r\n  float: left;\r\n  color: #333;\r\n  width: 220px;\r\n  height: 178px;\r\n  border: 1px solid #e0e0e0;\r\n  padding: 15px 24px 0;\r\n  margin-right: 17px;\r\n  margin-bottom: 24px;\r\n}\r\n.address .address-layout .address-content .address-body .in-section {\r\n  border: 1px solid #ff6700;\r\n}\r\n.address .address-layout .address-content .address-body li h2 {\r\n  font-size: 18px;\r\n  font-weight: normal;\r\n  line-height: 30px;\r\n  margin-bottom: 10px;\r\n}\r\n.address .address-layout .address-content .address-body li p {\r\n  font-size: 14px;\r\n  color: #757575;\r\n}\r\n.address .address-layout .address-content .address-body li .address {\r\n  padding: 10px 0;\r\n  max-width: 180px;\r\n  height: 70px;\r\n  line-height: 22px;\r\n  overflow: hidden;\r\n}\r\n\r\n.address .address-layout .address-content .address-body li .operate {\r\n  color: #ff6700;\r\n  font-size: 14px;\r\n  float: right;\r\n}\r\n\r\n.address .address-layout .address-content .address-body li .operate span {\r\n  margin-right: 10px;\r\n}\r\n.address .address-layout .address-content .address-body .add-address {\r\n  text-align: center;\r\n  line-height: 30px;\r\n}\r\n.address .address-layout .address-content .address-body .add-address i {\r\n  font-size: 30px;\r\n  padding-top: 50px;\r\n  text-align: center;\r\n}\r\n/*收货地址列表END*/\r\n.address .address-layout .delete-dialog {\r\n  margin: 0 auto;\r\n  width: 180px;\r\n  font-size: 20px;\r\n}\r\n</style>"]}]}