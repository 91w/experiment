{"remainingRequest":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myShop\\cmall-vue\\src\\views\\Details.vue?vue&type=style&index=0&id=14d957f8&scoped=true&lang=css","dependencies":[{"path":"D:\\myShop\\cmall-vue\\src\\views\\Details.vue","mtime":1714308338880},{"path":"D:\\myShop\\cmall-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1714004800405},{"path":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1714004801776},{"path":"D:\\myShop\\cmall-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1714004800978},{"path":"D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714004799971},{"path":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1714004801336}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQovKiDlpLTpg6hDU1MgKi8NCiNkZXRhaWxzIC5wYWdlLWhlYWRlciB7DQogIGhlaWdodDogNjRweDsNCiAgbWFyZ2luLXRvcDogLTIwcHg7DQogIHotaW5kZXg6IDQ7DQogIGJhY2tncm91bmQ6ICNmZmZmZmY7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwOw0KICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCA1cHggNXB4IHJnYmEoMCwgMCwgMCwgMC4wNyk7DQogIGJveC1zaGFkb3c6IDBweCA1cHggNXB4IHJnYmEoMCwgMCwgMCwgMC4wNyk7DQp9DQojZGV0YWlscyAucGFnZS1oZWFkZXIgLnRpdGxlIHsNCiAgd2lkdGg6IDEyMjVweDsNCiAgaGVpZ2h0OiA2NHB4Ow0KICBsaW5lLWhlaWdodDogNjRweDsNCiAgZm9udC1zaXplOiAxOHB4Ow0KICBmb250LXdlaWdodDogNDAwOw0KICBjb2xvcjogIzIxMjEyMTsNCiAgbWFyZ2luOiAwIGF1dG87DQp9DQojZGV0YWlscyAucGFnZS1oZWFkZXIgLnRpdGxlIHAgew0KICBmbG9hdDogbGVmdDsNCn0NCiNkZXRhaWxzIC5wYWdlLWhlYWRlciAudGl0bGUgLmxpc3Qgew0KICBoZWlnaHQ6IDY0cHg7DQogIGZsb2F0OiByaWdodDsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCiNkZXRhaWxzIC5wYWdlLWhlYWRlciAudGl0bGUgLmxpc3QgLnNlbGVjdCB7DQogIGZsb2F0OiBsZWZ0Ow0KICBtYXJnaW4tbGVmdDogMjBweDsNCn0NCg0KI2RldGFpbHMgLnBhZ2UtaGVhZGVyIC50aXRsZSAubGlzdCAuc2VsZWN0IC5saXN0LXNlbGVjdCB7DQogIGZvbnQtc2l6ZTogMTRweDsNCiAgY29sb3I6ICM2MTYxNjE7DQp9DQojZGV0YWlscyAucGFnZS1oZWFkZXIgLnRpdGxlIC5saXN0IC5zZWxlY3QgLmxpc3Qtc2VsZWN0OmhvdmVyIHsNCiAgZm9udC1zaXplOiAxNHB4Ow0KICBjb2xvcjogI2ZmNjcwMDsNCn0NCiNkZXRhaWxzIC5wYWdlLWhlYWRlciAudGl0bGUgLmxpc3QgLmN1dCB7DQogIGZvbnQtc2l6ZTogMTdweDsNCiAgY29sb3I6ICNjOWM3Yzc7DQogIG1hcmdpbi1sZWZ0OiAyMHB4Ow0KfQ0KLyog5aS06YOoQ1NTIEVORCAqLw0KDQovKiDkuLvopoHlhoXlrrlDU1MgKi8NCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gew0KICB3aWR0aDogMTIyNXB4Ow0KICBoZWlnaHQ6IDU2MHB4Ow0KICBwYWRkaW5nLXRvcDogMzBweDsNCiAgbWFyZ2luOiAwIGF1dG87DQogIHBhZGRpbmctYm90dG9tOiAzMHB4Ow0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UwZTBlMDsNCn0NCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gLmRldGFpbHMtYmxvY2sgew0KICBmbG9hdDogbGVmdDsNCiAgd2lkdGg6IDU2MHB4Ow0KICBoZWlnaHQ6IDU2MHB4Ow0KfQ0KI2RldGFpbHMgLmVsLWNhcm91c2VsIC5lbC1jYXJvdXNlbF9faW5kaWNhdG9yIC5lbC1jYXJvdXNlbF9fYnV0dG9uIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNjMsIDE2MywgMTYzLCAwLjgpOw0KfQ0KI2RldGFpbHMgLmRldGFpbHMtbWFpbiAuZGV0YWlscy1jb250ZW50IHsNCiAgZmxvYXQ6IGxlZnQ7DQogIG1hcmdpbi1sZWZ0OiAyNXB4Ow0KICB3aWR0aDogNjQwcHg7DQp9DQoNCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gLmRldGFpbHMtY29udGVudCAubmFtZSB7DQogIGxpbmUtaGVpZ2h0OiAzMHB4Ow0KICBmb250LXNpemU6IDI0cHg7DQogIGZvbnQtd2VpZ2h0OiBub3JtYWw7DQogIGNvbG9yOiAjMjEyMTIxOw0KICBkaXNwbGF5OiBpbmxpbmU7DQp9DQoNCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gLmRldGFpbHMtY29udGVudCAudmlldyB7DQogIGNvbG9yOiAjYjBiMGIwOw0KICBmbG9hdDogcmlnaHQ7DQogIHBhZGRpbmctdG9wOiA1cHg7DQogIGZvbnQtc2l6ZTogMThweDsNCn0NCg0KI2RldGFpbHMgLmRldGFpbHMtbWFpbiAuZGV0YWlscy1jb250ZW50IC5pbnRybyB7DQogIGNvbG9yOiAjYjBiMGIwOw0KICBwYWRkaW5nLXRvcDogMTBweDsNCn0NCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gLmRldGFpbHMtY29udGVudCAuc3RvcmUgew0KICBjb2xvcjogI2ZmNjcwMDsNCiAgcGFkZGluZy10b3A6IDEwcHg7DQp9DQojZGV0YWlscyAuZGV0YWlscy1tYWluIC5kZXRhaWxzLWNvbnRlbnQgLnByaWNlIHsNCiAgZGlzcGxheTogYmxvY2s7DQogIGZvbnQtc2l6ZTogMThweDsNCiAgY29sb3I6ICNmZjY3MDA7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTBlMGUwOw0KICBwYWRkaW5nOiAyNXB4IDAgMjVweDsNCn0NCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gLmRldGFpbHMtY29udGVudCAucHJpY2UgLmRlbCB7DQogIGZvbnQtc2l6ZTogMTRweDsNCiAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogIGNvbG9yOiAjYjBiMGIwOw0KICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDsNCn0NCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gLmRldGFpbHMtY29udGVudCAucHJvLWxpc3Qgew0KICBiYWNrZ3JvdW5kOiAjZjlmOWY5Ow0KICBwYWRkaW5nOiAzMHB4IDYwcHg7DQogIG1hcmdpbjogNTBweCAwIDUwcHg7DQp9DQojZGV0YWlscyAuZGV0YWlscy1tYWluIC5kZXRhaWxzLWNvbnRlbnQgLnByby1saXN0IHNwYW4gew0KICBsaW5lLWhlaWdodDogMzBweDsNCiAgY29sb3I6ICM2MTYxNjE7DQp9DQojZGV0YWlscyAuZGV0YWlscy1tYWluIC5kZXRhaWxzLWNvbnRlbnQgLnByby1saXN0IC5wcm8tcHJpY2Ugew0KICBmbG9hdDogcmlnaHQ7DQp9DQojZGV0YWlscyAuZGV0YWlscy1tYWluIC5kZXRhaWxzLWNvbnRlbnQgLnByby1saXN0IC5wcm8tcHJpY2UgLnByby1kZWwgew0KICBtYXJnaW4tbGVmdDogMTBweDsNCiAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7DQp9DQojZGV0YWlscyAuZGV0YWlscy1tYWluIC5kZXRhaWxzLWNvbnRlbnQgLnByby1saXN0IC5wcmljZS1zdW0gew0KICBjb2xvcjogI2ZmNjcwMDsNCiAgZm9udC1zaXplOiAyNHB4Ow0KICBwYWRkaW5nLXRvcDogMjBweDsNCn0NCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gLmRldGFpbHMtY29udGVudCAuYnV0dG9uIHsNCiAgaGVpZ2h0OiA1NXB4Ow0KICBtYXJnaW46IDEwcHggMCAyMHB4IDA7DQp9DQojZGV0YWlscyAuZGV0YWlscy1tYWluIC5kZXRhaWxzLWNvbnRlbnQgLmJ1dHRvbiAuZWwtYnV0dG9uIHsNCiAgZmxvYXQ6IGxlZnQ7DQogIGhlaWdodDogNTVweDsNCiAgZm9udC1zaXplOiAxNnB4Ow0KICBjb2xvcjogI2ZmZjsNCiAgYm9yZGVyOiBub25lOw0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQojZGV0YWlscyAuZGV0YWlscy1tYWluIC5kZXRhaWxzLWNvbnRlbnQgLmJ1dHRvbiAuc2hvcC1jYXJ0IHsNCiAgd2lkdGg6IDM0MHB4Ow0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY2NzAwOw0KfQ0KI2RldGFpbHMgLmRldGFpbHMtbWFpbiAuZGV0YWlscy1jb250ZW50IC5idXR0b24gLnNob3AtY2FydDpob3ZlciB7DQogIGJhY2tncm91bmQtY29sb3I6ICNmMjU4MDc7DQp9DQoNCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gLmRldGFpbHMtY29udGVudCAuYnV0dG9uIC5saWtlIHsNCiAgd2lkdGg6IDI2MHB4Ow0KICBtYXJnaW4tbGVmdDogNDBweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2IwYjBiMDsNCn0NCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gLmRldGFpbHMtY29udGVudCAuYnV0dG9uIC5saWtlOmhvdmVyIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogIzc1NzU3NTsNCn0NCiNkZXRhaWxzIC5kZXRhaWxzLW1haW4gLmRldGFpbHMtY29udGVudCAucHJvLXBvbGljeSBsaSB7DQogIGZsb2F0OiBsZWZ0Ow0KICBtYXJnaW4tcmlnaHQ6IDIwcHg7DQogIGNvbG9yOiAjYjBiMGIwOw0KfQ0KLyog5Li76KaB5YaF5a65Q1NTIEVORCAqLw0KDQovKuWVhuWTgeamgui/sCblj4LmlbAqLw0KI2RldGFpbHMgLnByb2R1Y3Qtc2VsZWN0IHsNCiAgd2lkdGg6IDMwMHB4Ow0KICBtYXJnaW46IDAgYXV0bzsNCiAgaGVpZ2h0OiA4MHB4Ow0KICBkaXNwbGF5OiBmbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KfQ0KI2RldGFpbHMgLnByb2R1Y3Qtc2VsZWN0IC5ub3RTZWxlY3Qgew0KICBmb250LXNpemU6IDE5cHg7DQogIGNvbG9yOiAjNzU3NTc1Ow0KfQ0KI2RldGFpbHMgLnByb2R1Y3Qtc2VsZWN0IC5pc1NlbGVjdCB7DQogIGZvbnQtc2l6ZTogMTlweDsNCiAgY29sb3I6ICNmZjY3MDA7DQp9DQojZGV0YWlscyAucHJvZHVjdC1zZWxlY3QgLm5vdFNlbGVjdDpob3ZlciB7DQogIGNvbG9yOiAjZmY2NzAwOw0KfQ0KI2RldGFpbHMgLnByb2R1Y3Qtc2VsZWN0IC5jdXQgew0KICBmb250LXNpemU6IDI1cHg7DQogIGNvbG9yOiAjYzljN2M3Ow0KICBtYXJnaW4tbGVmdDogMzVweDsNCiAgbWFyZ2luLXJpZ2h0OiAzNXB4Ow0KfQ0KI2RldGFpbHMgLnByb2R1Y3QtaW1nIGltZyB7DQogIHdpZHRoOiAxMjI1cHg7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBtYXJnaW46IDAgYXV0bzsNCn0NCi8q5ZWG5ZOB5qaC6L+wJuWPguaVsEVORCovDQoNCi8qdi1lbHNlKi8NCi5ub3QtZm91bmQgew0KICBoZWlnaHQ6IDUwMHB4Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQovKnYtZWxzZSBFTkQqLw0K"},{"version":3,"sources":["Details.vue"],"names":[],"mappings":";AAwRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Details.vue","sourceRoot":"src/views","sourcesContent":["<!--\r\n * @Descripttion: 商品详情\r\n * @Author: congz\r\n * @Date: 2020-06-04 11:22:40\r\n * @LastEditors: congz\r\n * @LastEditTime: 2020-10-28 12:05:31\r\n-->\r\n\r\n<template>\r\n  <div id=\"details\" v-if=\"productDetails\">\r\n    <!-- 头部 -->\r\n    <div class=\"page-header\">\r\n      <div class=\"title\">\r\n        <p>{{ productDetails.name }}</p>\r\n        <div class=\"list\"> \r\n          <!-- <div class=\"select\">\r\n            <el-button type=\"text\" class=\"list-select\" @click=\"goParam\">参数</el-button>\r\n          </div> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 头部END -->\r\n\r\n    <!-- 主要内容 -->\r\n    <div class=\"details-main\">\r\n      <!-- 左侧商品轮播图 -->\r\n      <div class=\"details-block\">\r\n        <el-carousel height=\"560px\" v-if=\"productPictures.length > 1\">\r\n          <el-carousel-item v-for=\"item in productPictures\" :key=\"item.id\">\r\n            <img style=\"height: 560px;\" :src=\"'data:image/jpeg;base64,' + productPictures[item.id].img\" />\r\n          </el-carousel-item>\r\n        </el-carousel>\r\n        <div v-if=\"productPictures.length == 1\">\r\n          <img style=\"height: 560px;\" :src=\"productPictures[0].img_path\" />\r\n        </div>\r\n      </div>\r\n      <!-- 左侧商品轮播图END -->\r\n\r\n      <!-- 右侧内容区 -->\r\n      <div class=\"details-content\">\r\n        <h1 class=\"name\">{{ productDetails.commname }}</h1>\r\n        <!-- <li class=\"view\">\r\n          <i class=\"el-icon-view\"></i>\r\n          {{ productDetails.view }}\r\n        </li> -->\r\n        <p class=\"intro\">{{ productDetails.commdesc }}</p>\r\n        <p class=\"store\">{{productDetails.common}}</p>\r\n        <div class=\"price\">\r\n          <span>{{ productDetails.thinkmoney }}元</span>\r\n          <span\r\n            v-show=\"productDetails.thinkmoney != productDetails.orimoney\"\r\n            class=\"del\"\r\n          >{{ productDetails.orimoney }}元</span>\r\n        </div>\r\n        <div class=\"pro-list\">\r\n          <span class=\"pro-name\">{{ productDetails.commname}}</span>\r\n          <span class=\"pro-price\">\r\n            <span>{{ productDetails.thinkmoney }}元</span>\r\n            <span\r\n              v-show=\"productDetails.orimoney != productDetails.thinkmoney\"\r\n              class=\"pro-del\"\r\n            >{{ productDetails.orimoney }}元</span>\r\n          </span>\r\n          <p class=\"price-sum\">总计 : {{ productDetails.thinkmoney }}元</p>\r\n        </div>\r\n        <!-- 内容区底部按钮 -->\r\n        <div class=\"button\">\r\n          <el-button class=\"shop-cart\" :disabled=\"dis\" @click=\"addShoppingCart\">加入购物车</el-button>\r\n          <el-button class=\"like\" @click=\"addCollect\">收藏</el-button>\r\n        </div>\r\n        <!-- 内容区底部按钮END -->\r\n        <div class=\"pro-policy\">\r\n          <ul>\r\n            <li>\r\n              <i class=\"el-icon-circle-check\"></i>\r\n              七天无理由退货\r\n            </li>\r\n            <li>\r\n              <i class=\"el-icon-circle-check\"></i>\r\n              急速退换货\r\n            </li>\r\n            <li>\r\n              <i class=\"el-icon-circle-check\"></i>\r\n              顺丰发货\r\n            </li>\r\n            <li>\r\n              <i class=\"el-icon-circle-check\"></i>\r\n              7天价格保护\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <!-- 右侧内容区END -->\r\n    </div>\r\n\r\n    <!-- 主要内容END -->\r\n    <div>\r\n      <el-form :model=\"form\" status-icon  ref=\"form\">\r\n        <el-form-item label=\"Activity form\">\r\n          <el-input v-model=\"form.desc\" type=\"textarea\" />\r\n        </el-form-item>\r\n      </el-form>\r\n        <a href=\"javascript:;\" class=\"btn-gradient blue block\" @click=\"login('form')\">登录</a>\r\n    </div>\r\n    <!-- <div class=\"product-select\" id=\"product-select\">\r\n      <el-button\r\n        type=\"text\"\r\n        :class=\"select == 0 ? 'isSelect' : 'notSelect'\"\r\n        @click=\"showInfoImgs\"\r\n      >商品概述</el-button>\r\n      <span class=\"cut\">|</span>\r\n      <el-button\r\n        type=\"text\"\r\n        :class=\"select == 1 ? 'isSelect' : 'notSelect'\"\r\n        @click=\"showParamImgs\"\r\n      >商品参数</el-button>\r\n    </div>\r\n    <div class=\"product-img\" v-for=\"item in imgs\" :key=\"item.id\">\r\n      <img v-lazy=\"item.img_path\" />\r\n    </div> -->\r\n\r\n  </div>\r\n  <div class=\"not-found\" v-else>查询不到该商品</div>\r\n</template>\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport * as productsAPI from '@/api/products/'\r\nimport * as imgsAPI from '@/api/img/'\r\nimport * as favoritesAPI from '@/api/favorites/'\r\nimport * as cartsAPI from '@/api/carts/'\r\nexport default {\r\n  data() {\r\n    return {\r\n      dis: false, // 控制“加入购物车按钮是否可用”\r\n      productID: 0, // 商品id\r\n      productDetails: '', // 商品详细信息\r\n      productPictures: '', // 商品图片\r\n      imgs: '', //商品概述图片\r\n      infoImgs: '',\r\n      paramImgs: '',\r\n      select: 0\r\n    }\r\n  },\r\n  // 通过路由获取商品id\r\n  activated() {\r\n    if (this.$route.query.productID != undefined) {\r\n      this.productID = this.$route.query.productID\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听商品id的变化，请求后端获取商品数据\r\n    productID: function() {\r\n      this.load()\r\n      //this.getDetailsPicture(val);\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['unshiftShoppingCart', 'addShoppingCartNum']),\r\n    // 获取商品详细信息\r\n    load() {\r\n      productsAPI.showProduct(this.productID).then(res => {\r\n        console.log(\"商品详细信息：\", res)\r\n        this.productDetails = res.data\r\n      })\r\n      productsAPI.showPictures(this.productID).then(res => {\r\n        console.log(\"商品图片：\", res)\r\n        this.productPictures = res\r\n        console.log(\"this:\" ,this.productPictures)\r\n      })\r\n      \r\n      imgsAPI.showInfoImgs(this.productID).then(res => {\r\n        this.infoImgs = res.data\r\n        this.imgs = this.infoImgs\r\n      })\r\n      imgsAPI.showParamImgs(this.productID).then(res => {\r\n        this.paramImgs = res.data\r\n      })\r\n    },\r\n    goInfo() {\r\n      this.showInfoImgs()\r\n      document.getElementById('product-select').scrollIntoView()\r\n    },\r\n    goParam() {\r\n      this.showParamImgs()\r\n      document.getElementById('product-select').scrollIntoView()\r\n    },\r\n    showInfoImgs() {\r\n      this.select = 0\r\n      this.imgs = this.infoImgs\r\n    },\r\n    showParamImgs() {\r\n      this.select = 1\r\n      this.imgs = this.paramImgs\r\n    },\r\n    // 加入购物车\r\n    addShoppingCart() {\r\n      // 判断是否登录,没有登录则显示登录组件\r\n      if (!this.$store.getters.getUser) {\r\n        this.$router.push({ name: 'Login' })\r\n        return\r\n      }\r\n      var form = {\r\n        user_id: this.$store.getters.getUser.id,\r\n        product_id: Number(this.productID)\r\n      }\r\n      cartsAPI\r\n        .postCart(form)\r\n        .then(res => {\r\n          switch (res.status) {\r\n            case 200:\r\n              //新加入购物车成功\r\n              this.unshiftShoppingCart(res.data)\r\n              this.notifySucceed('添加购物车成功')\r\n              break\r\n            case 201:\r\n              // 该商品已经在购物车，数量+1\r\n              this.addShoppingCartNum(this.productID)\r\n              this.notifySucceed('该商品已在购物车，数量+1')\r\n              break\r\n            case 202:\r\n              // 商品数量达到限购数量\r\n              this.dis = true\r\n              this.notifyError('商品达到限购数量', res.msg)\r\n              break\r\n            case 20001:\r\n              //token过期，需要重新登录\r\n              this.loginExpired(res.msg)\r\n              break\r\n            default:\r\n              this.notifyError('添加购物车失败', res.msg)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.notifyError('添加购物车失败', err)\r\n        })\r\n    },\r\n    addFavorite() {\r\n      // 判断是否登录,没有登录则显示登录组件\r\n      if (!this.$store.getters.getUser) {\r\n        this.$router.push({ name: 'Login' })\r\n        return\r\n      }\r\n      var form = {\r\n        user_id: this.$store.getters.getUser.id,\r\n        product_id: Number(this.productID)\r\n      }\r\n      favoritesAPI\r\n        .postFavorite(form)\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            this.notifySucceed('添加收藏夹成功')\r\n          } else if (res.status === 20001) {\r\n            //token过期，需要重新登录\r\n            this.loginExpired(res.msg)\r\n          } else {\r\n            this.notifyError('添加收藏夹失败', res.msg)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.notifyError('添加收藏夹失败', err)\r\n        })\r\n    }\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    // 添加背景色\r\n    document\r\n      .querySelector('body')\r\n      .setAttribute('style', 'background-color:#ffffff')\r\n    next()\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    // 去除背景色\r\n    document\r\n      .querySelector('body')\r\n      .setAttribute('style', 'background-color:#f5f5f5')\r\n    next()\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n/* 头部CSS */\r\n#details .page-header {\r\n  height: 64px;\r\n  margin-top: -20px;\r\n  z-index: 4;\r\n  background: #ffffff;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  -webkit-box-shadow: 0px 5px 5px rgba(0, 0, 0, 0.07);\r\n  box-shadow: 0px 5px 5px rgba(0, 0, 0, 0.07);\r\n}\r\n#details .page-header .title {\r\n  width: 1225px;\r\n  height: 64px;\r\n  line-height: 64px;\r\n  font-size: 18px;\r\n  font-weight: 400;\r\n  color: #212121;\r\n  margin: 0 auto;\r\n}\r\n#details .page-header .title p {\r\n  float: left;\r\n}\r\n#details .page-header .title .list {\r\n  height: 64px;\r\n  float: right;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#details .page-header .title .list .select {\r\n  float: left;\r\n  margin-left: 20px;\r\n}\r\n\r\n#details .page-header .title .list .select .list-select {\r\n  font-size: 14px;\r\n  color: #616161;\r\n}\r\n#details .page-header .title .list .select .list-select:hover {\r\n  font-size: 14px;\r\n  color: #ff6700;\r\n}\r\n#details .page-header .title .list .cut {\r\n  font-size: 17px;\r\n  color: #c9c7c7;\r\n  margin-left: 20px;\r\n}\r\n/* 头部CSS END */\r\n\r\n/* 主要内容CSS */\r\n#details .details-main {\r\n  width: 1225px;\r\n  height: 560px;\r\n  padding-top: 30px;\r\n  margin: 0 auto;\r\n  padding-bottom: 30px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n#details .details-main .details-block {\r\n  float: left;\r\n  width: 560px;\r\n  height: 560px;\r\n}\r\n#details .el-carousel .el-carousel__indicator .el-carousel__button {\r\n  background-color: rgba(163, 163, 163, 0.8);\r\n}\r\n#details .details-main .details-content {\r\n  float: left;\r\n  margin-left: 25px;\r\n  width: 640px;\r\n}\r\n\r\n#details .details-main .details-content .name {\r\n  line-height: 30px;\r\n  font-size: 24px;\r\n  font-weight: normal;\r\n  color: #212121;\r\n  display: inline;\r\n}\r\n\r\n#details .details-main .details-content .view {\r\n  color: #b0b0b0;\r\n  float: right;\r\n  padding-top: 5px;\r\n  font-size: 18px;\r\n}\r\n\r\n#details .details-main .details-content .intro {\r\n  color: #b0b0b0;\r\n  padding-top: 10px;\r\n}\r\n#details .details-main .details-content .store {\r\n  color: #ff6700;\r\n  padding-top: 10px;\r\n}\r\n#details .details-main .details-content .price {\r\n  display: block;\r\n  font-size: 18px;\r\n  color: #ff6700;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  padding: 25px 0 25px;\r\n}\r\n#details .details-main .details-content .price .del {\r\n  font-size: 14px;\r\n  margin-left: 10px;\r\n  color: #b0b0b0;\r\n  text-decoration: line-through;\r\n}\r\n#details .details-main .details-content .pro-list {\r\n  background: #f9f9f9;\r\n  padding: 30px 60px;\r\n  margin: 50px 0 50px;\r\n}\r\n#details .details-main .details-content .pro-list span {\r\n  line-height: 30px;\r\n  color: #616161;\r\n}\r\n#details .details-main .details-content .pro-list .pro-price {\r\n  float: right;\r\n}\r\n#details .details-main .details-content .pro-list .pro-price .pro-del {\r\n  margin-left: 10px;\r\n  text-decoration: line-through;\r\n}\r\n#details .details-main .details-content .pro-list .price-sum {\r\n  color: #ff6700;\r\n  font-size: 24px;\r\n  padding-top: 20px;\r\n}\r\n#details .details-main .details-content .button {\r\n  height: 55px;\r\n  margin: 10px 0 20px 0;\r\n}\r\n#details .details-main .details-content .button .el-button {\r\n  float: left;\r\n  height: 55px;\r\n  font-size: 16px;\r\n  color: #fff;\r\n  border: none;\r\n  text-align: center;\r\n}\r\n#details .details-main .details-content .button .shop-cart {\r\n  width: 340px;\r\n  background-color: #ff6700;\r\n}\r\n#details .details-main .details-content .button .shop-cart:hover {\r\n  background-color: #f25807;\r\n}\r\n\r\n#details .details-main .details-content .button .like {\r\n  width: 260px;\r\n  margin-left: 40px;\r\n  background-color: #b0b0b0;\r\n}\r\n#details .details-main .details-content .button .like:hover {\r\n  background-color: #757575;\r\n}\r\n#details .details-main .details-content .pro-policy li {\r\n  float: left;\r\n  margin-right: 20px;\r\n  color: #b0b0b0;\r\n}\r\n/* 主要内容CSS END */\r\n\r\n/*商品概述&参数*/\r\n#details .product-select {\r\n  width: 300px;\r\n  margin: 0 auto;\r\n  height: 80px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n#details .product-select .notSelect {\r\n  font-size: 19px;\r\n  color: #757575;\r\n}\r\n#details .product-select .isSelect {\r\n  font-size: 19px;\r\n  color: #ff6700;\r\n}\r\n#details .product-select .notSelect:hover {\r\n  color: #ff6700;\r\n}\r\n#details .product-select .cut {\r\n  font-size: 25px;\r\n  color: #c9c7c7;\r\n  margin-left: 35px;\r\n  margin-right: 35px;\r\n}\r\n#details .product-img img {\r\n  width: 1225px;\r\n  display: block;\r\n  margin: 0 auto;\r\n}\r\n/*商品概述&参数END*/\r\n\r\n/*v-else*/\r\n.not-found {\r\n  height: 500px;\r\n  text-align: center;\r\n}\r\n/*v-else END*/\r\n</style>\r\n"]}]}