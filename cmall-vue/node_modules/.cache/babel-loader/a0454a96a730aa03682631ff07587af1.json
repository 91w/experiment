{"remainingRequest":"D:\\myShop\\cmall-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myShop\\cmall-vue\\src\\views\\UserPass.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\myShop\\cmall-vue\\src\\views\\UserPass.vue","mtime":1715943076100},{"path":"D:\\myShop\\cmall-vue\\babel.config.js","mtime":1713966379331},{"path":"D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714004799971},{"path":"D:\\myShop\\cmall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1714004800982},{"path":"D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714004799971},{"path":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1714004801336}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgQ2VudGVyTWVudSBmcm9tICcuLi9jb21wb25lbnRzL0NlbnRlck1lbnUnOwppbXBvcnQgKiBhcyB1c2VyQVBJIGZyb20gJ0AvYXBpL3VzZXJzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdVcGRhdGVQYXNzJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHZhciB2YWxpZGF0ZVBhc3MgPSBmdW5jdGlvbiB2YWxpZGF0ZVBhc3MocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpeWvhueggScpKTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZS5sZW5ndGggPCA4IHx8IHZhbHVlLmxlbmd0aCA+IDE2KSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCflr4bnoIHplb/luqbpnIDlnKg45YiwMTbkuYvpl7QnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKF90aGlzLmZvcm0ucGFzc3dvcmRfY29uZmlybSAhPT0gJycpIHsKICAgICAgICAgIF90aGlzLiRyZWZzLmZvcm0udmFsaWRhdGVGaWVsZCgncGFzc3dvcmRfY29uZmlybScpOwogICAgICAgIH0KICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgdmFyIHZhbGlkYXRlUGFzczIgPSBmdW5jdGlvbiB2YWxpZGF0ZVBhc3MyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7flho3mrKHovpPlhaXlr4bnoIEnKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IF90aGlzLmZvcm0ucGFzc3dvcmQpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+S4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtCEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgcGFzc3dvcmRfY29uZmlybTogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmRfY29uZmlybTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzMiwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oZm9ybU5hbWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdXNlckFQSS5jaGFuZ2VQYXNzd29yZChfdGhpczIuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gNDA0KSB7CiAgICAgICAgICAgIF90aGlzMi5ub3RpZnlFcnJvcign6aqM6K+B5aSx6LSlJywgcmVzLmRhdGEubXNnKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzLm1zZyA9PSAi5oiQ5YqfIikgewogICAgICAgICAgICBfdGhpczIubm90aWZ5U3VjY2VlZCgn5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIubm90aWZ5RXJyb3IoJ+S/ruaUueWksei0pScsIHJlcy5kYXRhLm1zZyk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpczIubm90aWZ5RXJyb3IoJ+S/ruaUueWksei0pScsIGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5yZWZyZXNoQ2FwdGNoYSgpOwogIH0sCiAgY29tcG9uZW50czoge30KfTs="},{"version":3,"names":["CenterMenu","userAPI","name","data","_this","validatePass","rule","value","callback","Error","length","form","password_confirm","$refs","validateField","validatePass2","password","rules","validator","trigger","methods","login","formName","_this2","validate","valid","changePassword","then","res","status","notifyError","msg","notifySucceed","catch","error","mounted","refreshCaptcha","components"],"sources":["src/views/UserPass.vue"],"sourcesContent":["<!--\r\n * @Descripttion: \r\n * @Author: congz\r\n * @Date: 2020-08-09 12:53:22\r\n * @LastEditors: congz\r\n * @LastEditTime: 2020-08-09 21:31:44\r\n-->\r\n<template>\r\n  <div class=\"user-pass\" id=\"user-pass\" name=\"user-pass\">\r\n    <div class=\"user-pass-layout\">\r\n      <el-row :gutter=\"10\">\r\n        <div>\r\n          <CenterMenu></CenterMenu>\r\n        </div>\r\n        <el-col :span=\"20\">\r\n          <div class=\"user-pass-content\">\r\n            <div class=\"extra\"></div>\r\n            <div class=\"user-pass-title\">\r\n              <p>修改密码</p>\r\n            </div>\r\n            <div class=\"user-pass-form\" >\r\n              <el-form :model=\"form\" status-icon :rules=\"rules\" ref=\"form\" label-width=\"80px\">\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                  <el-input type=\"password\" v-model=\"form.password\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"确认密码\" prop=\"password_confirm\">\r\n                  <el-input type=\"password\" v-model=\"form.password_confirm\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n              </el-form>\r\n              <div style=\"margin-top:15px\">\r\n                <a href=\"javascript:;\" class=\"btn-gradient blue block\" @click=\"login('form')\">登录</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport CenterMenu from '../components/CenterMenu'\r\nimport * as userAPI from '@/api/users'\r\nexport default {\r\n  name: 'UpdatePass',\r\n  data() {\r\n    var validatePass = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请输入密码'))\r\n      } else if (value.length < 8 || value.length > 16) {\r\n        callback(new Error('密码长度需在8到16之间'))\r\n      } else {\r\n        if (this.form.password_confirm !== '') {\r\n          this.$refs.form.validateField('password_confirm')\r\n        }\r\n        callback()\r\n      }\r\n    }\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请再次输入密码'))\r\n      } else if (value !== this.form.password) {\r\n        callback(new Error('两次输入密码不一致!'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      form: {\r\n        password: '',\r\n        password_confirm: '',\r\n      },\r\n      rules: {\r\n        password: [{ validator: validatePass, trigger: 'blur' }],\r\n        password_confirm: [{ validator: validatePass2, trigger: 'blur' }]\r\n      },\r\n    }\r\n  },\r\n  methods: { \r\n      login(formName) {\r\n        this.$refs[formName].validate(valid => {\r\n          if (!valid) {\r\n            return\r\n          }\r\n            userAPI\r\n              .changePassword(this.form)\r\n              .then(res => {\r\n                if (res.status === 404) {\r\n                  this.notifyError('验证失败', res.data.msg)\r\n                } else if (res.msg == \"成功\") {\r\n                  this.notifySucceed('修改成功')\r\n                } else {\r\n                  \r\n                  this.notifyError('修改失败', res.data.msg)\r\n                }\r\n              })\r\n              .catch(error => {\r\n                this.notifyError('修改失败', error)\r\n              })\r\n        })\r\n      },\r\n    },\r\n    mounted() {\r\n      this.refreshCaptcha()\r\n    },\r\n  \r\n    components: {}\r\n  }\r\n  </script>"],"mappings":";AAwCA,OAAAA,UAAA;AACA,YAAAC,OAAA;AACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IAAA,IAAAC,KAAA;IACA,IAAAC,YAAA,YAAAA,aAAAC,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;MACA,WAAAF,KAAA,CAAAG,MAAA,QAAAH,KAAA,CAAAG,MAAA;QACAF,QAAA,KAAAC,KAAA;MACA;QACA,IAAAL,KAAA,CAAAO,IAAA,CAAAC,gBAAA;UACAR,KAAA,CAAAS,KAAA,CAAAF,IAAA,CAAAG,aAAA;QACA;QACAN,QAAA;MACA;IACA;IACA,IAAAO,aAAA,YAAAA,cAAAT,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;MACA,WAAAF,KAAA,KAAAH,KAAA,CAAAO,IAAA,CAAAK,QAAA;QACAR,QAAA,KAAAC,KAAA;MACA;QACAD,QAAA;MACA;IACA;IACA;MACAG,IAAA;QACAK,QAAA;QACAJ,gBAAA;MACA;MACAK,KAAA;QACAD,QAAA;UAAAE,SAAA,EAAAb,YAAA;UAAAc,OAAA;QAAA;QACAP,gBAAA;UAAAM,SAAA,EAAAH,aAAA;UAAAI,OAAA;QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,KAAA,WAAAA,MAAAC,QAAA;MAAA,IAAAC,MAAA;MACA,KAAAV,KAAA,CAAAS,QAAA,EAAAE,QAAA,WAAAC,KAAA;QACA,KAAAA,KAAA;UACA;QACA;QACAxB,OAAA,CACAyB,cAAA,CAAAH,MAAA,CAAAZ,IAAA,EACAgB,IAAA,WAAAC,GAAA;UACA,IAAAA,GAAA,CAAAC,MAAA;YACAN,MAAA,CAAAO,WAAA,SAAAF,GAAA,CAAAzB,IAAA,CAAA4B,GAAA;UACA,WAAAH,GAAA,CAAAG,GAAA;YACAR,MAAA,CAAAS,aAAA;UACA;YAEAT,MAAA,CAAAO,WAAA,SAAAF,GAAA,CAAAzB,IAAA,CAAA4B,GAAA;UACA;QACA,GACAE,KAAA,WAAAC,KAAA;UACAX,MAAA,CAAAO,WAAA,SAAAI,KAAA;QACA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,cAAA;EACA;EAEAC,UAAA;AACA","ignoreList":[]}]}