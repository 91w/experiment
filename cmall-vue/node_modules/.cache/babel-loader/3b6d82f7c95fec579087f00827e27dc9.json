{"remainingRequest":"D:\\myShop\\cmall-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myShop\\cmall-vue\\src\\views\\ConfirmOrder.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\myShop\\cmall-vue\\src\\views\\ConfirmOrder.vue","mtime":1713966379502},{"path":"D:\\myShop\\cmall-vue\\babel.config.js","mtime":1713966379331},{"path":"D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714004799971},{"path":"D:\\myShop\\cmall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1714004800982},{"path":"D:\\myShop\\cmall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1714004799971},{"path":"D:\\myShop\\cmall-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1714004801336}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovbXlTaG9wL2NtYWxsLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0ICogYXMgYWRkcmVzc2VzQVBJIGZyb20gJ0AvYXBpL2FkZHJlc3Nlcyc7CmltcG9ydCAqIGFzIG9yZGVyc0FQSSBmcm9tICdAL2FwaS9vcmRlcnMnOwppbXBvcnQgKiBhcyBjYXJ0c0FQSSBmcm9tICdAL2FwaS9jYXJ0cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6YCJ5oup55qE5Zyw5Z2AaWQKICAgICAgY29uZmlybUFkZHJlc3M6IDAsCiAgICAgIC8vIOWcsOWdgOWIl+ihqAogICAgICBhZGRyZXNzOiBbXSwKICAgICAgYWRkVmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICB1c2VyX2lkOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBwaG9uZTogJycsCiAgICAgICAgYWRkcmVzczogJycKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyDlpoLmnpzmsqHmnInli77pgInotK3nianovabllYblk4Hnm7TmjqXov5vlhaXnoa7orqTorqLljZXpobXpnaIs5o+Q56S65L+h5oGv5bm26L+U5Zue6LSt54mp6L2mCiAgICBpZiAodGhpcy5nZXRDaGVja051bSA8IDEpIHsKICAgICAgdGhpcy5ub3RpZnlFcnJvcign6K+35Yu+6YCJ5ZWG5ZOB5ZCO5YaN57uT566XJyk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2NhcnQnCiAgICAgIH0pOwogICAgfQogICAgdGhpcy5nZXRBZGRyZXNzKCk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2dldENoZWNrTnVtJywgJ2dldFRvdGFsUHJpY2UnLCAnZ2V0Q2hlY2tHb29kcyddKSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsnZGVsZXRlU2hvcHBpbmdDYXJ0J10pKSwge30sIHsKICAgIHNlbGVjdEFkZHJlc3M6IGZ1bmN0aW9uIHNlbGVjdEFkZHJlc3MoaXRlbSkgewogICAgICB0aGlzLmNvbmZpcm1BZGRyZXNzID0gaXRlbS5pZDsKICAgIH0sCiAgICBnZXRBZGRyZXNzOiBmdW5jdGlvbiBnZXRBZGRyZXNzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBhZGRyZXNzZXNBUEkuc2hvd0FkZHJlc3Nlcyh0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFVzZXIuaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgIF90aGlzLmFkZHJlc3MgPSByZXMuZGF0YTsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT09IDIwMDAxKSB7CiAgICAgICAgICAvL3Rva2Vu6L+H5pyf77yM6ZyA6KaB6YeN5paw55m75b2VCiAgICAgICAgICBfdGhpcy5sb2dpbkV4cGlyZWQocmVzLm1zZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLm5vdGlmeUVycm9yKCfojrflj5bmlLbotKflnLDlnYDlpLHotKUnLCByZXMubXNnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy5ub3RpZnlFcnJvcign6I635Y+W5pS26LSn5Zyw5Z2A5aSx6LSlJywgZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkT3JkZXI6IGZ1bmN0aW9uIGFkZE9yZGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKHRoaXMuY29uZmlybUFkZHJlc3MgPT09IDApIHsKICAgICAgICB0aGlzLm5vdGlmeUVycm9yKCfor7fpgInmi6nmlLbotKflnLDlnYAnLCBudWxsKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIG9yZGVycyA9IHRoaXMuZ2V0Q2hlY2tHb29kczsKICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkgewogICAgICAgICAgZm9ybSA9IHsKICAgICAgICAgICAgdXNlcl9pZDogX3RoaXMyLiRzdG9yZS5nZXR0ZXJzLmdldFVzZXIuaWQsCiAgICAgICAgICAgIHByb2R1Y3RfaWQ6IG9yZGVyc1tpXS5wcm9kdWN0X2lkLAogICAgICAgICAgICBudW06IG9yZGVyc1tpXS5udW0sCiAgICAgICAgICAgIGFkZHJlc3NfaWQ6IF90aGlzMi5jb25maXJtQWRkcmVzcwogICAgICAgICAgfTsKICAgICAgICAgIG9yZGVyc0FQSS5wb3N0T3JkZXIoZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICB2YXIgdGVtcCA9IG9yZGVyc1tpXTsKICAgICAgICAgICAgICAvLyDliKDpmaTlt7Lnu4/nu5PnrpfnmoTotK3nianovabllYblk4EKICAgICAgICAgICAgICB2YXIgZm9ybTEgPSB7CiAgICAgICAgICAgICAgICB1c2VyX2lkOiBfdGhpczIuJHN0b3JlLmdldHRlcnMuZ2V0VXNlci5pZCwKICAgICAgICAgICAgICAgIHByb2R1Y3RfaWQ6IHRlbXAucHJvZHVjdF9pZAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgY2FydHNBUEkuZGVsZXRlQ2FydChmb3JtMSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIC8vIOabtOaWsHZ1ZXjnirbmgIEKICAgICAgICAgICAgICAgICAgX3RoaXMyLmRlbGV0ZVNob3BwaW5nQ2FydCh0ZW1wLnByb2R1Y3RfaWQpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID09PSAyMDAwMSkgewogICAgICAgICAgICAgICAgICAvL3Rva2Vu6L+H5pyf77yM6ZyA6KaB6YeN5paw55m75b2VCiAgICAgICAgICAgICAgICAgIF90aGlzMi5sb2dpbkV4cGlyZWQocmVzLm1zZyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIubm90aWZ5RXJyb3IoJ+i0reeJqei9puWIoOmZpOWksei0pScsIHJlcy5tc2cpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIF90aGlzMi5ub3RpZnlFcnJvcign6LSt54mp6L2m5Yig6Zmk5aSx6LSlJywgZXJyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAvLyDot7PovazmiJHnmoTorqLljZXpobXpnaIKICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICcvb3JkZXInCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX3RoaXMyLm5vdGlmeVN1Y2NlZWQoJ+acquS7mOasvueahOiuouWNleWwhuS6jjE15YiG6ZKf5ZCO5Yig6ZmkJyk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PT0gMjAwMDEpIHsKICAgICAgICAgICAgICAvL3Rva2Vu6L+H5pyf77yM6ZyA6KaB6YeN5paw55m75b2VCiAgICAgICAgICAgICAgX3RoaXMyLmxvZ2luRXhwaXJlZChyZXMubXNnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIubm90aWZ5RXJyb3IoJ+e7k+eul+Wksei0pScsIHJlcy5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgIF90aGlzMi5ub3RpZnlFcnJvcign57uT566X5aSx6LSlJywgZXJyKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZm9ybTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcmRlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBfbG9vcChpKTsKICAgICAgfQogICAgfSwKICAgIHBvc3RFZGl0OiBmdW5jdGlvbiBwb3N0RWRpdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMuZm9ybS51c2VyX2lkID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRVc2VyLmlkOwogICAgICBhZGRyZXNzZXNBUEkucG9zdEFkZHJlc3ModGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczMuYWRkcmVzcyA9IHJlcy5kYXRhOwogICAgICAgICAgX3RoaXMzLmFkZFZpc2libGUgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMy5ub3RpZnlTdWNjZWVkKCfmlrDlu7rmlLbotKflnLDlnYDmiJDlip8nKTsKICAgICAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT09IDIwMDAxKSB7CiAgICAgICAgICAvL3Rva2Vu6L+H5pyf77yM6ZyA6KaB6YeN5paw55m75b2VCiAgICAgICAgICBfdGhpczMubG9naW5FeHBpcmVkKHJlcy5tc2cpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMubm90aWZ5RXJyb3IoJ+aWsOW7uuaUtui0p+WcsOWdgOWksei0pScsIHJlcy5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy5ub3RpZnlFcnJvcign5paw5bu65pS26LSn5Zyw5Z2A5aSx6LSlJywgZXJyKTsKICAgICAgfSk7CiAgICB9CiAgfSkKfTs="},{"version":3,"names":["mapGetters","mapActions","addressesAPI","ordersAPI","cartsAPI","name","data","confirmAddress","address","addVisible","form","user_id","phone","created","getCheckNum","notifyError","$router","push","path","getAddress","computed","_objectSpread","methods","selectAddress","item","id","_this","showAddresses","$store","getters","getUser","then","res","status","loginExpired","msg","catch","err","addOrder","_this2","orders","getCheckGoods","_loop","i","product_id","num","address_id","postOrder","temp","form1","deleteCart","deleteShoppingCart","notifySucceed","length","postEdit","_this3","postAddress"],"sources":["src/views/ConfirmOrder.vue"],"sourcesContent":["<!--\r\n * @Descripttion:确认订单页面组件 \r\n * @Author: congz\r\n * @Date: 2020-06-04 11:22:40\r\n * @LastEditors: congz\r\n * @LastEditTime: 2020-10-28 12:20:28\r\n--> \r\n\r\n<template>\r\n  <div class=\"confirmOrder\">\r\n    <!-- 头部 -->\r\n    <div class=\"top-header\">\r\n      <div class=\"cart-header\">\r\n        <div class=\"logo\">\r\n          <router-link to=\"/\">\r\n            <img src=\"../assets/imgs/clogo.png\" alt />\r\n          </router-link>\r\n        </div>\r\n        <div class=\"cart-header-content\">\r\n          <p>确认订单</p>\r\n        </div>\r\n        <div class=\"cart-header-right\">\r\n          <div class=\"cart-header-select\">\r\n            <el-dropdown>\r\n              <router-link to class=\"href\">\r\n                <span style=\"margin-right:5px\">{{this.$store.getters.getUser.nickname}}</span>\r\n                <i class=\"el-icon-caret-bottom\"></i>\r\n              </router-link>\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <router-link to=\"/\">\r\n                  <el-dropdown-item class=\"dropdown-menu\">首页</el-dropdown-item>\r\n                </router-link>\r\n                <router-link to=\"/center\">\r\n                  <el-dropdown-item class=\"dropdown-menu\">个人中心</el-dropdown-item>\r\n                </router-link>\r\n                <router-link to=\"/\">\r\n                  <el-dropdown-item class=\"dropdown-menu\">评价晒单</el-dropdown-item>\r\n                </router-link>\r\n                <router-link to=\"/favorite\">\r\n                  <el-dropdown-item class=\"dropdown-menu\">我的收藏</el-dropdown-item>\r\n                </router-link>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>\r\n\r\n          <div class=\"cart-header-order\">\r\n            <span>|</span>\r\n            <router-link to=\"/order\" class=\"href\">我的订单</router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 头部END -->\r\n\r\n    <!-- 主要内容容器 -->\r\n    <div class=\"confirm-content\">\r\n      <!-- 选择地址 -->\r\n      <div class=\"section-address\">\r\n        <p class=\"title\">收货地址</p>\r\n        <div class=\"address-body\">\r\n          <ul>\r\n            <router-link to>\r\n              <li\r\n                :class=\"item.id == confirmAddress ? 'in-section' : ''\"\r\n                v-for=\"item in address\"\r\n                :key=\"item.id\"\r\n                @click=\"selectAddress(item)\"\r\n              >\r\n                <h2>{{item.name}}</h2>\r\n                <p class=\"phone\">{{item.phone}}</p>\r\n                <p class=\"address\">{{item.address}}</p>\r\n              </li>\r\n            </router-link>\r\n            <li class=\"add-address\" @click=\"addVisible=true\">\r\n              <i class=\"el-icon-circle-plus-outline\"></i>\r\n              <p>添加新地址</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <!-- 选择地址END -->\r\n\r\n      <!-- 商品及优惠券 -->\r\n      <div class=\"section-goods\">\r\n        <p class=\"title\">商品及优惠券</p>\r\n        <div class=\"goods-list\">\r\n          <ul>\r\n            <li v-for=\"item in getCheckGoods\" :key=\"item.id\">\r\n              <img :src=\"item.img_path\" />\r\n              <span class=\"pro-name\">{{item.name}}</span>\r\n              <span class=\"pro-price\">{{item.discount_price}}元</span>\r\n              <span class=\"pro-num\">x {{item.num}}</span>\r\n              <span class=\"pro-status\"></span>\r\n              <span class=\"pro-total\">{{item.discount_price * item.num}}元</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <!-- 商品及优惠券END -->\r\n\r\n      <!-- 配送方式 -->\r\n      <div class=\"section-shipment\">\r\n        <p class=\"title\">配送方式</p>\r\n        <p class=\"shipment\">包邮</p>\r\n      </div>\r\n      <!-- 配送方式END -->\r\n\r\n      <!-- 发票 -->\r\n      <div class=\"section-invoice\">\r\n        <p class=\"title\">发票</p>\r\n        <p class=\"invoice\">电子发票</p>\r\n        <p class=\"invoice\">个人</p>\r\n        <p class=\"invoice\">商品明细</p>\r\n      </div>\r\n      <!-- 发票END -->\r\n\r\n      <!-- 结算列表 -->\r\n      <div class=\"section-count\">\r\n        <div class=\"money-box\">\r\n          <ul>\r\n            <li>\r\n              <span class=\"title\">商品件数：</span>\r\n              <span class=\"value\">{{getCheckNum}}件</span>\r\n            </li>\r\n            <li>\r\n              <span class=\"title\">商品总价：</span>\r\n              <span class=\"value\">{{getTotalPrice}}元</span>\r\n            </li>\r\n            <li>\r\n              <span class=\"title\">活动优惠：</span>\r\n              <span class=\"value\">-0元</span>\r\n            </li>\r\n            <li>\r\n              <span class=\"title\">优惠券抵扣：</span>\r\n              <span class=\"value\">-0元</span>\r\n            </li>\r\n            <li>\r\n              <span class=\"title\">运费：</span>\r\n              <span class=\"value\">0元</span>\r\n            </li>\r\n            <li class=\"total\">\r\n              <span class=\"title\">应付总额：</span>\r\n              <span class=\"value\">\r\n                <span class=\"total-price\">{{getTotalPrice}}</span>元\r\n              </span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <!-- 结算列表END -->\r\n\r\n      <!-- 结算导航 -->\r\n      <div class=\"section-bar\">\r\n        <div class=\"btn\">\r\n          <router-link to=\"/cart\" class=\"btn-base btn-return\">返回购物车</router-link>\r\n          <a href=\"javascript:void(0);\" @click=\"addOrder\" class=\"btn-base btn-primary\">结算</a>\r\n        </div>\r\n      </div>\r\n      <!-- 结算导航END -->\r\n    </div>\r\n    <!-- 主要内容容器END -->\r\n    <!-- 新建收货地址弹出框 -->\r\n    <el-dialog title=\"新建收货地址\" :visible.sync=\"addVisible\" width=\"30%\">\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\r\n        <el-form-item label=\"姓名\">\r\n          <el-input v-model=\"form.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\">\r\n          <el-input v-model=\"form.phone\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"详细地址\">\r\n          <el-input type=\"textarea\" rows=\"5\" v-model=\"form.address\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"postEdit\">确 定</el-button>\r\n        <el-button @click=\"addVisible = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 新建收货地址弹出框END -->\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport { mapActions } from 'vuex'\r\nimport * as addressesAPI from '@/api/addresses'\r\nimport * as ordersAPI from '@/api/orders'\r\nimport * as cartsAPI from '@/api/carts'\r\nexport default {\r\n  name: '',\r\n  data() {\r\n    return {\r\n      // 选择的地址id\r\n      confirmAddress: 0,\r\n      // 地址列表\r\n      address: [],\r\n      addVisible: false,\r\n      form: {\r\n        user_id: '',\r\n        name: '',\r\n        phone: '',\r\n        address: ''\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    // 如果没有勾选购物车商品直接进入确认订单页面,提示信息并返回购物车\r\n    if (this.getCheckNum < 1) {\r\n      this.notifyError('请勾选商品后再结算')\r\n      this.$router.push({ path: '/cart' })\r\n    }\r\n    this.getAddress()\r\n  },\r\n  computed: {\r\n    // 结算的商品数量; 结算商品总计; 结算商品信息\r\n    ...mapGetters(['getCheckNum', 'getTotalPrice', 'getCheckGoods'])\r\n  },\r\n  methods: {\r\n    ...mapActions(['deleteShoppingCart']),\r\n    selectAddress(item) {\r\n      this.confirmAddress = item.id\r\n    },\r\n    getAddress() {\r\n      addressesAPI\r\n        .showAddresses(this.$store.getters.getUser.id)\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            this.address = res.data\r\n          } else if (res.status === 20001) {\r\n            //token过期，需要重新登录\r\n            this.loginExpired(res.msg)\r\n          } else {\r\n            this.notifyError('获取收货地址失败', res.msg)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.notifyError('获取收货地址失败', err)\r\n        })\r\n    },\r\n    addOrder() {\r\n      if (this.confirmAddress === 0) {\r\n        this.notifyError('请选择收货地址', null)\r\n        return\r\n      }\r\n      let orders = this.getCheckGoods\r\n      for (let i = 0; i < orders.length; i++) {\r\n        var form = {\r\n          user_id: this.$store.getters.getUser.id,\r\n          product_id: orders[i].product_id,\r\n          num: orders[i].num,\r\n          address_id: this.confirmAddress\r\n        }\r\n        ordersAPI\r\n          .postOrder(form)\r\n          .then(res => {\r\n            if (res.status === 200) {\r\n              const temp = orders[i]\r\n              // 删除已经结算的购物车商品\r\n              var form1 = {\r\n                user_id: this.$store.getters.getUser.id,\r\n                product_id: temp.product_id\r\n              }\r\n              cartsAPI\r\n                .deleteCart(form1)\r\n                .then(res => {\r\n                  if (res.status === 200) {\r\n                    // 更新vuex状态\r\n                    this.deleteShoppingCart(temp.product_id)\r\n                  } else if (res.status === 20001) {\r\n                    //token过期，需要重新登录\r\n                    this.loginExpired(res.msg)\r\n                  } else {\r\n                    this.notifyError('购物车删除失败', res.msg)\r\n                  }\r\n                })\r\n                .catch(err => {\r\n                  this.notifyError('购物车删除失败', err)\r\n                })\r\n              // 跳转我的订单页面\r\n              this.$router.push({ path: '/order' })\r\n              this.notifySucceed('未付款的订单将于15分钟后删除')\r\n            } else if (res.status === 20001) {\r\n              //token过期，需要重新登录\r\n              this.loginExpired(res.msg)\r\n            } else {\r\n              this.notifyError('结算失败', res.msg)\r\n            }\r\n          })\r\n          .catch(err => {\r\n            this.notifyError('结算失败', err)\r\n          })\r\n      }\r\n    },\r\n    postEdit() {\r\n      this.form.user_id = this.$store.getters.getUser.id\r\n      addressesAPI\r\n        .postAddress(this.form)\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            this.address = res.data\r\n            this.addVisible = false\r\n            this.notifySucceed('新建收货地址成功')\r\n          } else if (res.status === 20001) {\r\n            //token过期，需要重新登录\r\n            this.loginExpired(res.msg)\r\n          } else {\r\n            this.notifyError('新建收货地址失败', res.msg)\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.notifyError('新建收货地址失败', err)\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.confirmOrder {\r\n  background-color: #f5f5f5;\r\n  padding-bottom: 20px;\r\n}\r\n/* 购物车头部CSS */\r\n.confirmOrder .top-header {\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n  margin-bottom: 30px;\r\n  border-bottom: 2px solid #ff6700;\r\n}\r\n.confirmOrder .top-header .cart-header {\r\n  display: flex;\r\n  height: 100px;\r\n  background-color: #ffffff;\r\n  margin-bottom: 20px;\r\n  width: 1225px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n}\r\n.confirmOrder .top-header .cart-header .logo {\r\n  height: 60px;\r\n  width: 100px;\r\n  margin-top: 22px;\r\n  margin-right: 20px;\r\n}\r\n.confirmOrder .top-header .cart-header .logo img {\r\n  height: 60px;\r\n}\r\n\r\n.confirmOrder .top-header .cart-header p {\r\n  margin-top: 23px;\r\n  font-size: 28px;\r\n  line-height: 58px;\r\n  float: left;\r\n  font-weight: normal;\r\n  color: #424242;\r\n}\r\n\r\n.confirmOrder .top-header .cart-header .cart-header-right {\r\n  display: flex;\r\n  position: absolute;\r\n  right: 0px;\r\n  float: right;\r\n}\r\n\r\n.confirmOrder .top-header .cart-header .cart-header-select {\r\n  margin-top: 40px;\r\n}\r\n\r\n.confirmOrder .top-header .cart-header .cart-header-select .href {\r\n  font-size: 13px;\r\n  color: #757575;\r\n}\r\n.confirmOrder .top-header .cart-header .cart-header-select .href:hover {\r\n  color: #ff6700;\r\n}\r\n.dropdown-menu:hover {\r\n  color: #ff6700;\r\n  background-color: #f5f5f5;\r\n}\r\n.confirmOrder .top-header .cart-header .cart-header-order {\r\n  margin-top: 40px;\r\n}\r\n.confirmOrder .top-header .cart-header .cart-header-order span {\r\n  color: #c9c7c7;\r\n  margin-left: 20px;\r\n  margin-right: 20px;\r\n}\r\n.confirmOrder .top-header .cart-header .cart-header-order .href {\r\n  font-size: 13px;\r\n  color: #757575;\r\n}\r\n.confirmOrder .top-header .cart-header .cart-header-order .href:hover {\r\n  color: #ff6700;\r\n}\r\n\r\n/* 购物车头部CSS END */\r\n\r\n/* 主要内容容器CSS */\r\n.confirmOrder .confirm-content {\r\n  width: 1225px;\r\n  margin: 0 auto;\r\n  padding: 48px 0 0;\r\n  background-color: #fff;\r\n}\r\n\r\n/* 选择地址CSS */\r\n.confirmOrder .confirm-content .section-address {\r\n  margin: 0 48px;\r\n  overflow: hidden;\r\n}\r\n.confirmOrder .confirm-content .section-address .title {\r\n  color: #333;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n.confirmOrder .confirm-content .address-body li {\r\n  float: left;\r\n  color: #333;\r\n  width: 210px;\r\n  height: 178px;\r\n  border: 1px solid #e0e0e0;\r\n  padding: 15px 24px 0;\r\n  margin-right: 17px;\r\n  margin-bottom: 24px;\r\n}\r\n.confirmOrder .confirm-content .address-body .in-section {\r\n  border: 1px solid #ff6700;\r\n}\r\n.confirmOrder .confirm-content .address-body li h2 {\r\n  font-size: 18px;\r\n  font-weight: normal;\r\n  line-height: 30px;\r\n  margin-bottom: 10px;\r\n}\r\n.confirmOrder .confirm-content .address-body li p {\r\n  font-size: 14px;\r\n  color: #757575;\r\n}\r\n.confirmOrder .confirm-content .address-body li .address {\r\n  padding: 10px 0;\r\n  max-width: 180px;\r\n  max-height: 88px;\r\n  line-height: 22px;\r\n  overflow: hidden;\r\n}\r\n.confirmOrder .confirm-content .address-body .add-address {\r\n  text-align: center;\r\n  line-height: 30px;\r\n}\r\n.confirmOrder .confirm-content .address-body .add-address i {\r\n  font-size: 30px;\r\n  padding-top: 50px;\r\n  text-align: center;\r\n}\r\n/* 选择地址CSS END */\r\n\r\n/* 商品及优惠券CSS */\r\n.confirmOrder .confirm-content .section-goods {\r\n  margin: 0 48px;\r\n}\r\n.confirmOrder .confirm-content .section-goods p.title {\r\n  color: #333;\r\n  font-size: 18px;\r\n  line-height: 40px;\r\n}\r\n.confirmOrder .confirm-content .section-goods .goods-list {\r\n  padding: 5px 0;\r\n  border-top: 1px solid #e0e0e0;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n.confirmOrder .confirm-content .section-goods .goods-list li {\r\n  padding: 10px 0;\r\n  color: #424242;\r\n  overflow: hidden;\r\n}\r\n.confirmOrder .confirm-content .section-goods .goods-list li img {\r\n  float: left;\r\n  width: 30px;\r\n  height: 30px;\r\n  margin-right: 10px;\r\n}\r\n.confirmOrder .confirm-content .section-goods .goods-list li .pro-name {\r\n  float: left;\r\n  width: 650px;\r\n  line-height: 30px;\r\n}\r\n.confirmOrder .confirm-content .section-goods .goods-list li .pro-price {\r\n  float: left;\r\n  width: 120px;\r\n  line-height: 30px;\r\n}\r\n.confirmOrder .confirm-content .section-goods .goods-list li .pro-num {\r\n  float: left;\r\n  width: 30px;\r\n  text-align: center;\r\n  line-height: 30px;\r\n}\r\n.confirmOrder .confirm-content .section-goods .goods-list li .pro-status {\r\n  float: left;\r\n  width: 99px;\r\n  height: 30px;\r\n  text-align: center;\r\n  line-height: 30px;\r\n}\r\n.confirmOrder .confirm-content .section-goods .goods-list li .pro-total {\r\n  float: left;\r\n  width: 190px;\r\n  text-align: center;\r\n  color: #ff6700;\r\n  line-height: 30px;\r\n}\r\n/* 商品及优惠券CSS END */\r\n\r\n/* 配送方式CSS */\r\n.confirmOrder .confirm-content .section-shipment {\r\n  margin: 0 48px;\r\n  padding: 25px 0;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  overflow: hidden;\r\n}\r\n.confirmOrder .confirm-content .section-shipment .title {\r\n  float: left;\r\n  width: 150px;\r\n  color: #333;\r\n  font-size: 18px;\r\n  line-height: 38px;\r\n}\r\n.confirmOrder .confirm-content .section-shipment .shipment {\r\n  float: left;\r\n  line-height: 38px;\r\n  font-size: 14px;\r\n  color: #ff6700;\r\n}\r\n/* 配送方式CSS END */\r\n\r\n/* 发票CSS */\r\n.confirmOrder .confirm-content .section-invoice {\r\n  margin: 0 48px;\r\n  padding: 25px 0;\r\n  border-bottom: 1px solid #e0e0e0;\r\n  overflow: hidden;\r\n}\r\n.confirmOrder .confirm-content .section-invoice .title {\r\n  float: left;\r\n  width: 150px;\r\n  color: #333;\r\n  font-size: 18px;\r\n  line-height: 38px;\r\n}\r\n.confirmOrder .confirm-content .section-invoice .invoice {\r\n  float: left;\r\n  line-height: 38px;\r\n  font-size: 14px;\r\n  margin-right: 20px;\r\n  color: #ff6700;\r\n}\r\n/* 发票CSS END */\r\n\r\n/* 结算列表CSS */\r\n.confirmOrder .confirm-content .section-count {\r\n  margin: 0 48px;\r\n  padding: 20px 0;\r\n  overflow: hidden;\r\n}\r\n.confirmOrder .confirm-content .section-count .money-box {\r\n  float: right;\r\n  text-align: right;\r\n}\r\n.confirmOrder .confirm-content .section-count .money-box .title {\r\n  float: left;\r\n  width: 126px;\r\n  height: 30px;\r\n  display: block;\r\n  line-height: 30px;\r\n  color: #757575;\r\n}\r\n.confirmOrder .confirm-content .section-count .money-box .value {\r\n  float: left;\r\n  min-width: 105px;\r\n  height: 30px;\r\n  display: block;\r\n  line-height: 30px;\r\n  color: #ff6700;\r\n}\r\n.confirmOrder .confirm-content .section-count .money-box .total .title {\r\n  padding-top: 15px;\r\n}\r\n.confirmOrder .confirm-content .section-count .money-box .total .value {\r\n  padding-top: 10px;\r\n}\r\n.confirmOrder .confirm-content .section-count .money-box .total-price {\r\n  font-size: 30px;\r\n}\r\n/* 结算列表CSS END */\r\n\r\n/* 结算导航CSS */\r\n.confirmOrder .confirm-content .section-bar {\r\n  padding: 20px 48px;\r\n  border-top: 2px solid #f5f5f5;\r\n  overflow: hidden;\r\n}\r\n.confirmOrder .confirm-content .section-bar .btn {\r\n  float: right;\r\n}\r\n.confirmOrder .confirm-content .section-bar .btn .btn-base {\r\n  float: left;\r\n  margin-left: 30px;\r\n  width: 158px;\r\n  height: 38px;\r\n  border: 1px solid #b0b0b0;\r\n  font-size: 14px;\r\n  line-height: 38px;\r\n  text-align: center;\r\n}\r\n.confirmOrder .confirm-content .section-bar .btn .btn-return {\r\n  color: rgba(0, 0, 0, 0.27);\r\n  border-color: rgba(0, 0, 0, 0.27);\r\n  color: #757575;\r\n}\r\n.confirmOrder .confirm-content .section-bar .btn .btn-primary {\r\n  background: #ff6700;\r\n  border-color: #ff6700;\r\n  color: #fff;\r\n}\r\n/* 结算导航CSS */\r\n\r\n/* 主要内容容器CSS END */\r\n</style>"],"mappings":";;AAuLA,SAAAA,UAAA;AACA,SAAAC,UAAA;AACA,YAAAC,YAAA;AACA,YAAAC,SAAA;AACA,YAAAC,QAAA;AACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,cAAA;MACA;MACAC,OAAA;MACAC,UAAA;MACAC,IAAA;QACAC,OAAA;QACAN,IAAA;QACAO,KAAA;QACAJ,OAAA;MACA;IACA;EACA;EACAK,OAAA,WAAAA,QAAA;IACA;IACA,SAAAC,WAAA;MACA,KAAAC,WAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA;IACA;IACA,KAAAC,UAAA;EACA;EACAC,QAAA,EAAAC,aAAA,KAEArB,UAAA,oDACA;EACAsB,OAAA,EAAAD,aAAA,CAAAA,aAAA,KACApB,UAAA;IACAsB,aAAA,WAAAA,cAAAC,IAAA;MACA,KAAAjB,cAAA,GAAAiB,IAAA,CAAAC,EAAA;IACA;IACAN,UAAA,WAAAA,WAAA;MAAA,IAAAO,KAAA;MACAxB,YAAA,CACAyB,aAAA,MAAAC,MAAA,CAAAC,OAAA,CAAAC,OAAA,CAAAL,EAAA,EACAM,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,MAAA;UACAP,KAAA,CAAAlB,OAAA,GAAAwB,GAAA,CAAA1B,IAAA;QACA,WAAA0B,GAAA,CAAAC,MAAA;UACA;UACAP,KAAA,CAAAQ,YAAA,CAAAF,GAAA,CAAAG,GAAA;QACA;UACAT,KAAA,CAAAX,WAAA,aAAAiB,GAAA,CAAAG,GAAA;QACA;MACA,GACAC,KAAA,WAAAC,GAAA;QACAX,KAAA,CAAAX,WAAA,aAAAsB,GAAA;MACA;IACA;IACAC,QAAA,WAAAA,SAAA;MAAA,IAAAC,MAAA;MACA,SAAAhC,cAAA;QACA,KAAAQ,WAAA;QACA;MACA;MACA,IAAAyB,MAAA,QAAAC,aAAA;MAAA,IAAAC,KAAA,YAAAA,MAAAC,CAAA,EACA;UACAjC,IAAA;YACAC,OAAA,EAAA4B,MAAA,CAAAX,MAAA,CAAAC,OAAA,CAAAC,OAAA,CAAAL,EAAA;YACAmB,UAAA,EAAAJ,MAAA,CAAAG,CAAA,EAAAC,UAAA;YACAC,GAAA,EAAAL,MAAA,CAAAG,CAAA,EAAAE,GAAA;YACAC,UAAA,EAAAP,MAAA,CAAAhC;UACA;UACAJ,SAAA,CACA4C,SAAA,CAAArC,IAAA,EACAqB,IAAA,WAAAC,GAAA;YACA,IAAAA,GAAA,CAAAC,MAAA;cACA,IAAAe,IAAA,GAAAR,MAAA,CAAAG,CAAA;cACA;cACA,IAAAM,KAAA;gBACAtC,OAAA,EAAA4B,MAAA,CAAAX,MAAA,CAAAC,OAAA,CAAAC,OAAA,CAAAL,EAAA;gBACAmB,UAAA,EAAAI,IAAA,CAAAJ;cACA;cACAxC,QAAA,CACA8C,UAAA,CAAAD,KAAA,EACAlB,IAAA,WAAAC,GAAA;gBACA,IAAAA,GAAA,CAAAC,MAAA;kBACA;kBACAM,MAAA,CAAAY,kBAAA,CAAAH,IAAA,CAAAJ,UAAA;gBACA,WAAAZ,GAAA,CAAAC,MAAA;kBACA;kBACAM,MAAA,CAAAL,YAAA,CAAAF,GAAA,CAAAG,GAAA;gBACA;kBACAI,MAAA,CAAAxB,WAAA,YAAAiB,GAAA,CAAAG,GAAA;gBACA;cACA,GACAC,KAAA,WAAAC,GAAA;gBACAE,MAAA,CAAAxB,WAAA,YAAAsB,GAAA;cACA;cACA;cACAE,MAAA,CAAAvB,OAAA,CAAAC,IAAA;gBAAAC,IAAA;cAAA;cACAqB,MAAA,CAAAa,aAAA;YACA,WAAApB,GAAA,CAAAC,MAAA;cACA;cACAM,MAAA,CAAAL,YAAA,CAAAF,GAAA,CAAAG,GAAA;YACA;cACAI,MAAA,CAAAxB,WAAA,SAAAiB,GAAA,CAAAG,GAAA;YACA;UACA,GACAC,KAAA,WAAAC,GAAA;YACAE,MAAA,CAAAxB,WAAA,SAAAsB,GAAA;UACA;QACA;QAAA3B,IAAA;MA9CA,SAAAiC,CAAA,MAAAA,CAAA,GAAAH,MAAA,CAAAa,MAAA,EAAAV,CAAA;QAAAD,KAAA,CAAAC,CAAA;MAAA;IA+CA;IACAW,QAAA,WAAAA,SAAA;MAAA,IAAAC,MAAA;MACA,KAAA7C,IAAA,CAAAC,OAAA,QAAAiB,MAAA,CAAAC,OAAA,CAAAC,OAAA,CAAAL,EAAA;MACAvB,YAAA,CACAsD,WAAA,MAAA9C,IAAA,EACAqB,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,MAAA;UACAsB,MAAA,CAAA/C,OAAA,GAAAwB,GAAA,CAAA1B,IAAA;UACAiD,MAAA,CAAA9C,UAAA;UACA8C,MAAA,CAAAH,aAAA;QACA,WAAApB,GAAA,CAAAC,MAAA;UACA;UACAsB,MAAA,CAAArB,YAAA,CAAAF,GAAA,CAAAG,GAAA;QACA;UACAoB,MAAA,CAAAxC,WAAA,aAAAiB,GAAA,CAAAG,GAAA;QACA;MACA,GACAC,KAAA,WAAAC,GAAA;QACAkB,MAAA,CAAAxC,WAAA,aAAAsB,GAAA;MACA;IACA;EAAA;AAEA","ignoreList":[]}]}